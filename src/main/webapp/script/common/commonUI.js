var durationLongTime=0.9;var durationTreeTime=0.2;var durationTreeActionTime=1.5;var durationShortTime=0.03;var durationTimeZero=0;var opacityStart=1;var opacityEnd=0;var commonUI={Version:"0.0.1_rc1",ScriptFragment:"(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)",emptyFunction:function(){},K:function(A){return A}};var fadeAction=Class.create();commonUI.action={toggle:function(B,A){if($(B).style.display=="none"){this.appear(B,A)}else{this.fade(B,A)}},treeToggle:function(B,A){Effect.toggle(B,"BLIND",{duration:durationTreeTime,afterFinish:A})},treeActionToggle:function(B,A){Effect.toggle(B,"BLIND",{duration:durationTreeTime,afterFinish:function(){new Effect.Highlight(B,{startcolor:"#e8a7f8",duration:durationTreeActionTime})}})},appear:function(B,A){Effect.SlideDown(B,{duration:durationLongTime,afterFinish:A})},fade:function(B,A){Effect.SlideUp(B,{duration:durationLongTime,afterFinish:A})},opacity:function(B,A){new Effect.Opacity(B,{to:opacityEnd,from:opacityStart,duration:durationTimeZero,afterFinish:function(){Effect.SlideDown(B,{duration:durationShortTime,afterFinish:function(){new Effect.Opacity(B,{to:opacityStart,from:opacityEnd,duration:durationLongTime,afterFinish:A})}})}})},remove:function(B,A){Effect.SlideUp(B,{duration:durationLongTime,afterFinish:function(){Element.remove(B);if(A!=null&&A!="undefined"){A()}}})},treeRemove:function(B,A){new Effect.Opacity(B,{to:0,from:1,duration:durationLongTime,afterFinish:function(){Effect.SlideUp(B,{duration:durationShortTime,afterFinish:function(){Element.remove(B);if(A!=null&&A!="undefined"){A()}}})}})},view:function(C,B,A){new Effect.Opacity(C,{to:opacityEnd,from:opacityStart,duration:durationLongTime,afterFinish:function(){Element.hide(C);new Effect.Opacity(B,{to:opacityEnd,from:opacityStart,duration:durationLongTime,afterFinish:function(){document.body.scrollTop=0;Element.show(B);new Effect.Opacity(B,{to:opacityStart,from:opacityEnd,duration:durationLongTime,afterFinish:A})}})}})},viewNoSlide:function(B,C,A){new Effect.Opacity(B,{to:opacityEnd,from:opacityStart,duration:durationLongTime,afterFinish:function(){B.innerHTML=C;new Effect.Opacity(B,{to:opacityStart,from:opacityEnd,duration:durationLongTime,afterFinish:A})}})},highlight:function(A){new Effect.Highlight(A,{startcolor:"#c8e1ec",duration:durationLongTime})},shake:function(A){new Effect.Shake(A)}};var appendElement=Class.create();appendElement={element:null,innerHTML:null,insertElement:null,finishFunction:null,action:null,service:function(C,F,E,D,A){if(this.insertElement==E){var B=function(){Element.hide(E)};this.deleteElement(B);return false}else{if(this.insertElement!=null&&this.insertElement!=E){Element.remove(this.element);Element.hide(this.insertElement)}}Element.show(E);this.element=C;this.innerHTML=F;this.insertElement=E;this.finishFunction=A;this.action=D;this.appendElement();this.appendProcess();return true},appendElement:function(){switch(this.action){case"After":new Insertion.After(this.insertElement,"<div id="+this.element+' style="display:none">'+this.innerHTML+"</div>");break;case"Bottom":new Insertion.Bottom(this.insertElement,"<div id="+this.element+' style="display:none">'+this.innerHTML+"</div>");break;case"Top":new Insertion.Top(this.insertElement,"<div id="+this.element+' style="display:none">'+this.innerHTML+"</div>");break;case"Before":new Insertion.Before(this.insertElement,"<div id="+this.element+' style="display:none">'+this.innerHTML+"</div>");break}},appendProcess:function(){commonUI.action.toggle(this.element,this.finishFunction)},deleteElement:function(A){commonUI.action.remove(this.element,A);this.element=null;this.insertElement=null;return true},distroyElement:function(A){Element.remove(A);this.element=null;this.insertElement=null}};var appendHTML=Class.create();appendHTML={service:function(B,C,A){this.insertElement=B;this.innerHTML=C;this.action=A;this.appendElement()},appendElement:function(){switch(this.action){case"After":new Insertion.After(this.insertElement,this.innerHTML);break;case"Bottom":new Insertion.Bottom(this.insertElement,this.innerHTML);break;case"Top":new Insertion.Top(this.insertElement,this.innerHTML);break;case"Before":new Insertion.Before(this.insertElement,this.innerHTML);break}},appendProcess:function(){}};var TextField=Class.create();TextField={TextFieldView:function(H){this.modify=H;for(var D=0;D<H.length;D++){var J=H[D].id.replace("v_","e_");var G="";var I="";var E="";var B="";var A="";if(H[D].required!=null&&H[D].required=="Y"){G="required"}if(H[D].validType!=null&&H[D].validType!=""){I="validType="+H[D].validType}if(H[D].alt!=null){E="alt="+H[D].alt}if(H[D].validDate!=null){B=H[D].validDate;B=B.replace("v_","e_")}if(H[D].maxlength!=null){A="maxlength="+H[D].maxlength}switch(H[D].type){case"select":var F='&nbsp;<select name="'+J+'" id="'+J+'" size="1" value="'+$(H[D].id).getAttribute("value")+'" '+G+" "+I+" "+B+" "+E+' class="edu_write">';for(var C=0;C<H[D].data.length;C++){F+='<option id="option_'+C+'" name="option_'+C+'"value='+H[D].data[C].value;if($(H[D].id).getAttribute("value")==H[D].data[C].value){F+=" selected >"}else{F+=" >"}F+=H[D].data[C].key+"</option>"}F+="</select>";Element.update($(H[D].id),F);break;case"text":var F='&nbsp;<input type="text" name="'+J+'" id="'+J+'" type="text" class="edu_write" size="21" class="edu_write" STYLE="WIDTH:100%" value="'+$(H[D].id).getAttribute("value")+'" '+G+" "+A+" "+I+" "+B+"  "+E+">";Element.update($(H[D].id),F);break;case"date":var F='&nbsp;<input type="text" name="'+J+'" id="'+J+'" class="edu_write" size="21" maxLength="8" value="'+$(H[D].id).getAttribute("value")+'" '+G+" "+I+""+B+""+E+"> ";F+='<IMG id="'+J+'_cal" name="'+J+'_cal" editId="'+J+'" BORDER="0" SRC="/images/webs/BT_CALENDAR.GIF" id="Image1" name="Image1" align="top" style="cursor:pointer;position:absolute;" />';Element.update($(H[D].id),F);Event.observe(J+"_cal","click",function(K){divClick=true;service(Event.element(K),$(Event.element(K).getAttribute("editId")),"date",1,"/images")},false);break;case"dtime":var F='&nbsp;<input type="text" name="'+J+'" id="'+J+'" class="edu_write" size="21" maxLength="12" value="'+$(H[D].id).getAttribute("value")+'" '+G+" "+I+" "+B+" "+E+"> ";F+='<IMG id="'+J+'_cal" name="'+J+'_cal" editId="'+J+'" BORDER="0" SRC="/images/webs/BT_CALENDAR.GIF" id="Image1" name="Image1" align="top" style="cursor:pointer;position:absolute;" />';Element.update($(H[D].id),F);Event.observe(J+"_cal","click",function(K){divClick=true;service(Event.element(K),$(Event.element(K).getAttribute("editId")),"dtime",1,"/images")},false);break;case"radio":var F="";for(var C=0;C<H[D].data.length;C++){F+='<input type="radio" name="'+J+'" id="'+J+'" value="'+$(H[D].id).getAttribute("value")+'" ';if($(H[D].id).getAttribute("value")==H[D].data[C].value){F+=" checked >"}else{F+=" >"}F+=H[D].data[C].key}Element.update($(H[D].id),F);break;case"textarea":var F='&nbsp;<textarea name="'+J+'" id="'+J+'" style="width:600px;height:120px;" class="box_reply6 box_re_scroll6" '+G+" "+A+" "+I+" "+E+">";F+=$(this.modify[D].id).innerHTML.strip();F+="</textarea>";Element.update($(H[D].id),F);break}}},TextFieldRemove:function(){for(var B=0;B<this.modify.length;B++){var A=this.modify[B].id.replace("v_","e_");var C=$(A).value;switch(this.modify[B].type){case"select":Element.update($(this.modify[B].id),"&nbsp;"+DWRUtil.getText(A));break;case"textarea":Element.update($(this.modify[B].id),"&nbsp;"+C.escapeHTML());break;case"radio":default:Element.update($(this.modify[B].id),"&nbsp;"+C);break}$(this.modify[B].id).setAttribute("value",C)}},putMap:function(){var E=new JMap();for(var B=0;B<this.modify.length;B++){var A=this.modify[B].id.replace("v_","e_");var C=this.modify[B].id.replace("v_","");var D=$(A).value;E.put(C,D)}return E},setVFieldFromInput:function(A,D,E){if(A==null||Object.isUndefined(A)){return }var B;for(var C=0;C<A.length;C++){if(A[C]==null||Object.isUndefined(A[C])||A[C].id==null||Object.isUndefined(A[C].id)){continue}if(A[C].type=="radio"||A[C].type=="checkbox"){targetEle=$(A[C].id+E);if(targetEle==null||Object.isUndefined(targetEle)){continue}targetEle.disabled=true}else{targetEle=$(D+A[C].id+E);if(targetEle==null||Object.isUndefined(targetEle)){continue}if(A[C].type=="select-one"&&A[C].value!=""){targetEle.update(A[C].options[A[C].selectedIndex].text)}else{targetEle.update(A[C].value)}}}},setLFieldFromInput:function(A,E,F){if(A==null||Object.isUndefined(A)){return }var B;var D;for(var C=0;C<A.length;C++){if(A[C]==null||Object.isUndefined(A[C])||A[C].id==null||Object.isUndefined(A[C].id)){continue}targetEle=$(E+A[C].id+F);if($(B)=="undefined"){continue}if(A[C].type=="radio"||A[C].type=="checkbox"){targetEle=$(E+A[C].name+F);if(targetEle==null||Object.isUndefined(targetEle)){continue}if(A[C].checked){if(A[C].type=="radio"){targetEle.update(A[C].label)}else{targetEle.update((targetEle.innerHTML.isBlack()?"":" | ")+A[C].label)}}}else{targetEle=$(E+A[C].id+F);if(targetEle==null||Object.isUndefined(targetEle)){continue}if(A[C].type=="select-one"&&A[C].value!=""){targetEle.update(A[C].options[A[C].selectedIndex].text)}else{targetEle.update(A[C].value)}}}},initFormElements:function(A){if(A==null||Object.isUndefined(A)){return }for(var B=0;B<A.length;B++){if(A[B]==null||Object.isUndefined(A[B])||A[B].id==null||Object.isUndefined(A[B].id)){continue}if(A[B].type=="select-one"){opt=A[B].options;for(j=0;j<opt.length;j++){if(j==A[B].selectedIndex){opt[j].defaultSelected=true}else{opt[j].defaultSelected=false}}}else{if(A[B].type=="radio"||A[B].type=="checkbox"){A[B].defaultChecked=A[B].checked}else{A[B].defaultValue=A[B].value}}}}};