/*!
 * Copyright(c) 2014. M2SOFT Co., Ltd. All source codes cannot be copied without permission.
 * 
 * @version: 1.0.1.44
 * @bulid date: 2016/06/09 06:33
 */
var crownix=crownix||{};crownix.ns=function(e){var d=e.split("."),c=crownix;if(d[0]==="crownix"){d=d.slice(1)}for(var b=0,a=d.length;b<a;b++){if(typeof c[d[b]]==="undefined"){c[d[b]]={}}c=c[d[b]]}return c};crownix.ns("crownix.chart.util.Util");(function(){var a=crownix.chart.util.Util;a.toAbsAngle=function(b){return(b%360)<0?360+(b%360):(b%360)};a.browser=(function(){var c=navigator.userAgent,b,d=c.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];if(/trident/i.test(d[1])){b=/\brv[ :]+(\d+)/g.exec(c)||[];return{name:"IE",version:(b[1]||"")}}if(d[1]==="Chrome"){b=c.match(/\bOPR\/(\d+)/);if(b!=null){return{name:"Opera",version:b[1]}}}d=d[2]?[d[1],d[2]]:[navigator.appName,navigator.appVersion,"-?"];if((b=c.match(/version\/(\d+)/i))!=null){d.splice(1,1,b[1])}return{name:d[0],version:d[1]}})();a.isNumeric=function(b){return b-parseFloat(b)>=0};a.toDash=function(b){if(typeof b!=="string"){return""}b=b.toLowerCase();switch(b){case"solid":return"";case"shortdash":return"-";case"shortdot":return".";case"shortdashdot":return"-.";case"shortdashdotdot":return"-..";case"dash":return"- ";case"dot":return". ";case"dashdot":return"- .";case"longdash":return"--";case"longdashdot":return"--.";case"longdashdotdot":return"--..";default:return""}};a.bright=function(e,i){var d=Raphael.getRGB(e),h=d.r+i,f=d.g+i,c=d.b+i;h=h>255?255:h<0?0:h;f=f>255?255:f<0?0:f;c=c>255?255:c<0?0:c;return Raphael.rgb(h,f,c)}})();crownix.ns("crownix.chart.util.Path");(function(){var a=crownix.chart.util.Path;var d=crownix.chart.util.Util;a.TOP=1;a.BOTTOM=2;a.RIGHT=3;a.DOWN=4;var c=function(e){return(e%2)===1?0.5:0};var b=function(e){return(e%360<0)?360+(e%360):(e%360)};a.vBar=function(h,e,i,f,g){return h.path(["M",e-g/2,i,"v",f-i,"h",g,"v",-(f-i),"z"].join())};a.hBar=function(h,e,i,g,f){return h.path(["M",g,i-f/2,"v",f,"h",e-g,"v",-f,"z"].join())};a.lineto=function(h,e,i,g,f){return h.path(["M",e+0.5,i+0.5,"l",g,f].join())};a.lineTo=function(h,e,i,g,f){return h.path(["M",e+0.5,i+0.5,"L",g+0.5,f+0.5].join())};a.sectorZonePath=function(o,n,g,A,q,p,w,k){var m=k?b(A+w):b(-q+w),z=k?b(q+w):b(-A+w);if(z==m){if(!isNaN(p)&&p>0){return a.circlePath(o,n,g,1)+a.circlePath(o,n,p,0)}else{return a.circlePath(o,n,g,1)}}var t=Math.PI/180,j=(z>m?z:z+360)-m>180?1:0,l=Math.cos(m*t)*g,v=Math.sin(m*t)*g,h=Math.cos(z*t)*g,u=Math.sin(z*t)*g,f=["M",o+l,n+v,"A",g,g,0,j,1,o+h,n+u,];if(!isNaN(p)&&p>0){f.push("L",o+h*p/g,n+u*p/g);f.push("A",p,p,0,j,0,o+l*p/g,n+v*p/g)}else{f.push("L",o,n)}f.push("z");return f.join()};a.radialZonePath=function(l,h,q,o,E,v,f,A){var G=Math.PI/180,p=A?b(o+f):b(-E+f),F=A?b(E+f):b(-o+f),t=[],B=[],n=8,m=360/n,C,z,k,w,g;if(F<=p){F+=360}C=Math.floor(p/m)*m;z=Math.cos(Raphael.rad(C))*q;k=Math.sin(Raphael.rad(C))*q;C+=m;w=Math.cos(Raphael.rad(C))*q;g=Math.sin(Raphael.rad(C))*q;B.push([z+(w-z)*(p%m)/m,k+(g-k)*(p%m)/m]);while(C<=F){z=Math.cos(Raphael.rad(C))*q;k=Math.sin(Raphael.rad(C))*q;B.push([z,k]);C+=m}if(C>=F){w=Math.cos(Raphael.rad(C))*q;g=Math.sin(Raphael.rad(C))*q;B.push([z+(w-z)*(F%m)/m,k+(g-k)*(F%m)/m])}for(var u=0,D=B.length;u<D;u++){if(u===0){t.push("M",l+B[u][0],h+B[u][1])}else{t.push("L",l+B[u][0],h+B[u][1])}}if(!isNaN(v)&&v>0){for(u=B.length-1;u>=0;u--){t.push("L",l+B[u][0]*v/q,h+B[u][1]*v/q)}}else{t.push("L",l,h)}t.push("z");return t.join()};a.polygonPoints=function(m,i,g,l,j,z,B,v){var k=v?b(j):b(z),A=v?b(z):b(j),q=360/m,w,u,h,t,f,p=[],o=[];if(A<=k){A+=360}w=Math.floor(k/q)*q;u=Math.cos(Raphael.rad(w-90+B))*l;h=Math.sin(Raphael.rad(w-90+B))*l;w+=q;t=Math.cos(Raphael.rad(w-90+B))*l;f=Math.sin(Raphael.rad(w-90+B))*l;p.push([i+u+(t-u)*(k%q)/q,g+h+(f-h)*(k%q)/q]);while(w<=A){u=Math.cos(Raphael.rad(w-90+B))*l;h=Math.sin(Raphael.rad(w-90+B))*l;p.push([i+u,g+h]);w+=q}if(w>A){t=Math.cos(Raphael.rad(w-90+B))*l;f=Math.sin(Raphael.rad(w-90+B))*l;p.push([i+u+(t-u)*(A%q)/q,g+h+(f-h)*(A%q)/q])}if(v){return p}else{return p.reverse()}};a.polygonPath=function(k,o,l,g,w,t,u,q,j){var f=[];var v=this.polygonPoints(k,o,l,g,w,t,u,j);f.push("M",v[0][0],v[0][1]);for(var p=1,m=v.length;p<m;p++){f.push("L",v[p][0],v[p][1])}if(!isNaN(q)&&q>0){v=this.polygonPoints(k,o,l,q,t,w,u,!j);f.push(b(w)===b(t)?"M":"L",v[0][0],v[0][1]);for(var p=1,m=v.length;p<m;p++){f.push("L",v[p][0],v[p][1])}}f.push("z");return f.join()};a.pie3D=function(l,h,g,q,v,u,j,i,C){var z=1,o=v-90,A=u-90,k=+(A-o>180);C=C-C*(90-i)/90,rx=q,ry=q*(90-i)/90,irx=rx*j/100,iry=ry*j/100,x1=h+Math.cos(Raphael.rad(o))*rx,y1=g+Math.sin(Raphael.rad(o))*ry,x2=h+Math.cos(Raphael.rad(A))*rx,y2=g+Math.sin(Raphael.rad(A))*ry,x3=h+Math.cos(Raphael.rad(A))*irx,y3=g+Math.sin(Raphael.rad(A))*iry,x4=h+Math.cos(Raphael.rad(o))*irx,y4=g+Math.sin(Raphael.rad(o))*iry,ix360=h+irx,ix180=h-irx,x360=h+rx,x180=h-rx;var w=function(){return l.path(["M",x1,y1,"L",x1,y1-C,"L",x4,y4-C,"L",x4,y4,"z"]).data({position:"start"})};var m=function(){return l.path(["M",x2,y2,"L",x2,y2-C,"L",x3,y3-C,"L",x3,y3,"z"]).data({position:"end"})};var t=function(G,F,s,E,r,D,e){return l.path(["M",s,E,"A",G,F,0,0,1,r,D,"L",r,D-C,"A",G,F,0,0,0,s,E-C,"z"]).data({position:e})};var n=function(){var e=["M",x1,y1-C,"A",rx,ry,0,+(A-o>180),1,x2,y2-C,"L",x3,y3-C,];if(j>0){e.push("A",irx,iry,0,+(A-o>180),0,x4,y4-C)}e.push("z");l.path(e)};l.setStart();if(i>0){var p=d.toAbsAngle(o);var B=d.toAbsAngle(A);var f=function(){if(Math.abs(180-d.toAbsAngle(v))<Math.abs(180-d.toAbsAngle(u))){m();w()}else{w();m()}};if(p<180){if(B>180){t(rx,ry,x180,g,x2,y2,"end");m();t(irx,iry,ix180,g,x3,y3,"end");t(irx,iry,x4,y4,ix180,g,"start");w();t(rx,ry,x1,y1,x180,g,"start")}else{if(B<p){t(rx,ry,x180,g,x360,g,"middle");t(irx,iry,ix180,g,ix360,g,"middle");t(irx,iry,x4,y4,ix180,g,"start");t(irx,iry,ix360,g,x3,y3,"end");f();t(rx,ry,x1,y1,x180,g,"start");t(rx,ry,x360,g,x2,y2,"end")}else{t(irx,iry,x4,y4,x3,y3);f();t(rx,ry,x1,y1,x2,y2)}}}else{if(B<180){t(rx,ry,x1,y1,x360,g,"start");w();t(irx,iry,x4,y4,ix360,g,"start");t(irx,iry,ix360,g,x3,y3,"end");m();t(rx,ry,x360,g,x2,y2,"end")}else{if(B<p){t(rx,ry,x1,y1,x360,g,"start");t(rx,ry,x180,g,x2,y2,"end");f();t(irx,iry,x4,y4,ix360,g,"start");t(irx,iry,ix180,g,x3,y3,"end");t(irx,iry,ix360,g,ix180,g,"middle");t(rx,ry,x360,g,x180,g,"middle")}else{t(rx,ry,x1,y1,x2,y2);f();t(irx,iry,x4,y4,x3,y3)}}}}n();return l.setFinish()};a.square=function(g,e,h,f){return g.rect(e-f,h-f,f*2,f*2)};a.diamond=function(g,e,h,f){return g.path(["M",e,h-f,"L",e-f,h,"L",e,h+f,"L",e+f,h,"z"].join())};a.triangle=function(g,e,h,f){return g.path(["M",e,h-f,"L",e-f,h+f,"L",e+f,h+f,"z"].join())};a.triangle_down=function(g,e,h,f){return g.path(["M",e,h+f,"L",e+f,h-f,"L",e-f,h-f,"z"].join())};a.symbol=function(j,e,k,i,h,f){var g;switch(i){case"diamond":g=this.diamond(j,e,k,h);break;case"square":g=this.square(j,e,k,h);break;case"triangle":g=this.triangle(j,e,k,h);break;case"triangle_down":g=this.triangle_down(j,e,k,h);break;default:g=j.circle(e,k,i=="no"?0:h)}return g.attr({stroke:"none",fill:f,opacity:1})};a.archSolid=function(f,n,g,m,k,h,i){var j=i?1:0;if((h-k)>=180&&(k<h)){largeArcFlag=1}else{if((k>h)&&(k-h)>=180){largeArcFlag=1}else{largeArcFlag=0}}if(Math.abs(h-k)>=360){var l=a.circlePath(f,n,g,1);var e=a.circlePath(f,n,(g-m),0);return l+e}return["M",f-g*Math.cos(Raphael.rad(k)),n-g*Math.sin(Raphael.rad(k)),"A",g,g,0,largeArcFlag,j,f-g*Math.cos(Raphael.rad(h)),n-g*Math.sin(Raphael.rad(h)),"l",m*Math.cos(Raphael.rad(h)),m*Math.sin(Raphael.rad(h)),"A",(g-m),(g-m),0,largeArcFlag,Math.abs(j-1),f-(g-m)*Math.cos(Raphael.rad(k)),n-(g-m)*Math.sin(Raphael.rad(k)),"z"].join()};a.arcLine=function(l,k,j,i,e,g,f){var h=f?1:0;if((g-e)>=180&&(e<g)){largeArcFlag=1}else{if((e>g)&&(e-g)>=180){largeArcFlag=1}else{largeArcFlag=0}}if(Math.abs(g-e)>=360){return l.circle(k,j,i)}return l.path(["M",k-i*Math.cos(Raphael.rad(e)),j-i*Math.sin(Raphael.rad(e)),"A",i,i,0,largeArcFlag,h,k-i*Math.cos(Raphael.rad(g)),j-i*Math.sin(Raphael.rad(g))].join())};a.circlePath=function(e,h,g,f){return["M",e,h-g,"A",g,g,0,1,f?1:0,e,h+g,"A",g,g,0,1,f?1:0,e,h-g,"z"].join()};a.angularTick=function(k,i,g,f,j,h){var e;if(h==0){e=0.1}else{if(h==1){e=0.08}else{if(h==2){e=0.05}}}return k.path(["M",i-f*Math.cos(Raphael.rad(j)),g-f*Math.sin(Raphael.rad(j)),"l",f*e*Math.cos(Raphael.rad(j)),f*e*Math.sin(Raphael.rad(j))].join())};a.linePointer=function(h,g,f,e){return h.path(["M",g,f,"l",0,0.5,"l",-e,0,"l",0,-1,"l",e,0,"z"].join())};a.trianglePointer=function(h,g,f,e){return h.path(["M",g,f,"l",0,e/40,"l",-e,-e/40,"l",e,-e/40,"z"].join())};a.diamondPointer=function(h,g,f,e){return h.path(["M",g,f,"l",0,-e/75,"l",-e*0.85,-e/75,"l",-e*0.15,e/35,"l",e*0.15,e/35,"l",e*0.85,-e/75,"z"].join())};a.arrowPointer=function(h,g,f,e){return h.path(["M",g,f,"l",0,-e/100,"l",-e*0.85,0,"l",0,-e/100,"l",-e*0.15,e/50,"l",e*0.15,e/50,"l",0,-e/100,"l",e*0.85,0,"z"].join())};a.rectSolid=function(i,h,f,j,e,g){if(g=="top"||g=="bottom"){return i.path(["M",j,h,"v",f,"h",(j-e)*-1,"v",-f,"z"].join())}else{return i.path(["M",h,j,"h",f,"v",(j-e)*-1,"h",-f,"z"].join())}};a.linearLine=function(i,h,g,e,f){if(f=="top"||f=="bottom"){return i.path(["M",h,g,"H",e,].join())}else{return i.path(["M",h,g,"v",(g-e)*-1,].join())}};a.linearTick=function(k,i,e,j,h,g){var f,l=1;if(h==0){f=0.5}else{if(h==1){f=0.3}else{if(h==2){f=0.1}}}if(g=="left"){l=1}else{if(g=="right"){l=-1}}if(g=="top"){l=1}else{if(g=="bottom"){l=-1}}if(g=="left"||g=="right"){return k.path(["M",i-(e/2*l),j,"h",e*f*l].join())}else{return k.path(["M",j,i-(e/2*l),"v",e*f*l].join())}};a.lineLPointer=function(h,e,j,f,g){var i=1;if(g=="left"){i=1;e=e+f*0.6}else{if(g=="right"){i=-1;e=e-f*0.6}else{if(g=="top"){i=1;j=j+f*0.6}else{if(g=="bottom"){i=-1;j=j-f*0.6}}}}if(g=="left"||g=="right"){return h.path(["M",e,j,"l",0,-(f/100),"l",-f*0.8*i,0,"l",0,(f/50),"l",f*0.8*i,0,"z"].join())}else{return h.path(["M",e,j,"l",-(f/100),0,"l",0,-f*0.8*i,"l",(f/50),0,"l",0,f*0.8*i,"z"].join())}};a.triangleLPointer=function(h,e,j,f,g){var i=1;if(g=="left"){i=1;e=e+f*0.6}else{if(g=="right"){i=-1;e=e-f*0.6}else{if(g=="top"){i=1;j=j+f*0.6}else{if(g=="bottom"){i=-1;j=j-f*0.6}}}}if(g=="left"||g=="right"){return h.path(["M",e,j-(f/20),"l",-f*0.8*i,(f/20),"l",f*0.8*i,(f/20),"z"].join())}else{return h.path(["M",e-(f/20),j,"l",(f/20),-f*i,"l",(f/20),f*i,"z"].join())}};a.diamondLPointer=function(h,e,j,f,g){var i=1;if(g=="left"){i=1;e=e+f*0.6}else{if(g=="right"){i=-1;e=e-f*0.6}else{if(g=="top"){i=1;j=j+f*0.6}else{if(g=="bottom"){i=-1;j=j-f*0.6}}}}if(g=="left"||g=="right"){return h.path(["M",e,j-(f/40),"l",-f*0.6*i,-(f/40),"l",-f*0.2*i,(f/20),"l",f*0.2*i,(f/20),"l",f*0.6*i,-(f/40),"z"].join())}else{return h.path(["M",e-(f/40),j,"l",-(f/40),-f*0.6*i,"l",(f/20),-f*0.2*i,"l",(f/20),f*0.2*i,"l",-(f/40),f*0.6*i,"z"].join())}};a.arrowLPointer=function(h,e,j,f,g){var i=1;if(g=="left"){i=1;e=e+f*0.6}else{if(g=="right"){i=-1;e=e-f*0.6}else{if(g=="top"){i=1;j=j+f*0.6}else{if(g=="bottom"){i=-1;j=j-f*0.6}}}}if(g=="left"||g=="right"){return h.path(["M",e,j-(f/50),"l",-f*0.6*i,0,"l",0,-(f/50),"l",-f*0.2*i,(f/25),"l",f*0.2*i,(f/25),"l",0,-(f/50),"l",f*0.6*i,0,"z"].join())}else{return h.path(["M",e-(f/50),j,"l",0,-f*0.6*i,"l",-(f/50),0,"l",(f/25),-f*0.2*i,"l",(f/25),f*0.2*i,"l",-(f/50),0,"l",0,f*0.6*i,"z"].join())}}})();crownix.ns("crownix.chart.util.Format");(function(){var d=crownix.chart.util.Util,b=crownix.chart.util.Format;var c=function(f,e){switch(f){case"name":if(e.name){return e.name}else{return e.value}case"label":if(e.label){return e.label}else{return e.value}case"xLabel":if(e.xLabel){return e.xLabel}else{return e.value}case"x":if(e.x!=undefined){return e.x}else{return e.value}case"percent":if(e.percentValue){return e.percentValue}else{return e.value}case"value":default:return e.value}};var a=function(g){var e,f=/{[value|percent|name|label|xLabel]+(:0[0,.]*0)?}/;e=f.exec(g);return e!=null?e[0]:undefined};b.convert=function(e,k,i){if(typeof k=="string"){var f=a(k);while(f){var g,h,j;if(f.indexOf(":")>=0){g=f.substr(1,f.length-2).split(":")[0];h=f.substr(1,f.length-2).split(":")[1]}else{g=f.substr(1,f.length-2)}j=c(g,e);if(j.toString().indexOf(".")>=0&&!h){h="0.00"}if(d.isNumeric(j)&&h){j=numeral(j).format(h)}k=k.replace(f,j);f=a(k)}}else{k=e.value}if(typeof i=="function"){e.formatValue=k;k=i.call(e)}return k}})();crownix.ns("crownix.chart.options");crownix.chart.options.DEFAULT={type:"line",inverted:false,chart:{borderWidth:0,borderColor:"#C0D0E0",borderRadius:0,marginTop:10,marginRight:10,marginLeft:10,marginBottom:10,backgroundImage:undefined,backgroundColor:undefined,},title:{text:undefined,font:{family:undefined,size:20,color:"#3B444B",weight:"bold",},position:"top",align:"center",rotation:0},legend:{enable:true,layout:"horizontal",align:"center",position:"bottom",borderWidth:0,borderColor:"#000000",floating:false,font:{family:"Arial",size:12,color:"#171717",weight:"normal"},format:undefined,formatter:undefined,x:0,y:0},polarGrid:{labels:[],type:"angular",scale:"auto",min:undefined,max:undefined,tickInterval:undefined,center:undefined,radius:undefined,gridOnTop:true,startAngle:0,clockwise:true,lineColor:"#333333",lineWidth:0.5,sectorLineColor:undefined,sectorLineWidth:undefined,outlineColor:"#333333",outlineWidth:1,backgroundColor:undefined,altType:"ring",altOddColor:"#CCCCCC",altEvenColor:"#EEEEEE",font:{family:"Arial",size:12,color:"#2e86c1",weight:"normal"},zone:[]},common:{column:{type:"side",},axisX:{data:[],opposite:false,lineColor:"#C0D0E0",lineWidth:1,labels:{format:undefined,formatter:undefined,rotation:0},title:{enable:false,text:undefined,align:"center",font:{family:"Arial",size:14,color:"#3B444B",weight:"bold"},rotation:0},},axisY:{opposite:false,lineColor:"#C0D0E0",lineWidth:0,scale:"auto",min:undefined,max:undefined,tickAmount:undefined,tickInterval:undefined,labels:{format:undefined,formatter:undefined,rotation:0},title:{enable:false,text:undefined,align:"center",font:{family:"Arial",size:14,color:"#3B444B",weight:"bold"},rotation:0},},dataLabels:{enable:false,font:{family:undefined,size:12,color:"#131313",weight:"normal",},format:undefined,formatter:undefined},tooltip:{enable:true,font:{family:undefined,size:12,color:"#131313",weight:"normal"},format:undefined,formatter:undefined}}};crownix.chart.options.SERIES_DEFAULT={dataLabels:undefined,tooltip:undefined,animation:true,data:[],name:undefined,axisX:0,axisY:0,axisX2:undefined,onClick:undefined};crownix.chart.options.LINE_DEFAULT={color:undefined,lineWidth:3,lineType:"normal",step:"left",symbol:"circle",symbolSize:5};crownix.chart.options.BAR_DEFAULT={color:undefined,};crownix.chart.options.PIE_DEFAULT={radius:undefined,center:undefined,startAngle:0,clockwise:true,innerPercent:0,slice:true,sliceOffset:10,options3d:{enable:false,alpha:45,depth:50,},showLegend:false};crownix.chart.options.Polar_DEFAULT={color:undefined,polarType:"line",lineType:"",lineWidth:2,closeLine:true,area:true,symbol:"circle",symbolColor:undefined,symbolSize:4,showLegend:true};crownix.chart.options.GAUGE_DEFAULT={gaugeType:"angular",gaugeStyle:"solid",center:undefined,width:undefined,height:undefined,radius:undefined,gaugeWidth:undefined,startAngle:-90,endAngle:90,min:undefined,max:undefined,majorInterval:undefined,minorInterval:undefined,microInterval:undefined,axisPosition:"left",reverse:false,barColor:"#353535",axisWidth:0,majorWidth:1,minorWidth:1,microWidth:1,ring:[{startRadius:1,endRadius:3,color:undefined}],zone:[{startValue:undefined,endValue:undefined,color:undefined,text:undefined,font:{family:undefined,size:9,color:"#353535",weight:"normal"},rotation:0}],pointer:[{type:"line",length:1,width:1}],tickLabel:{enable:true,font:{family:"Arial",size:9,color:"#353535",weight:"normal"},format:undefined,formatter:undefined,rotation:0}};crownix.ns("crownix.chart.Tooltip");crownix.chart.Tooltip=function(f){var f=f,d,c,e;var b=function(){f.setStart();d=f.path();c=f.text();e=f.setFinish()};var a=function(h,g){var i;if(g=="T"){i=["M",0,0,"l",6,-8,"l",h.width/2-6+10,0,"l",0,-h.height-10,"l",-h.width-20,0,"l",0,h.height+10,"l",h.width/2-6+10,0,"z"]}else{if(g=="B"){i=["M",0,0,"l",6,8,"l",h.width/2-6+10,0,"l",0,h.height+10,"l",-h.width-20,0,"l",0,-h.height-10,"l",h.width/2-6+10,0,"z"]}else{if(g=="L"){i=["M",0,0,"l",-8,-6,"l",0,-h.height/2+6-4,"l",-h.width-10,0,"l",0,h.height+8,"l",h.width+10,0,"l",0,-h.height/2+6-4,"z"]}else{i=["M",0,0,"l",8,-6,"l",0,-h.height/2+6-4,"l",h.width+10,0,"l",0,h.height+8,"l",-h.width-10,0,"l",0,-h.height/2+6-4,"z"]}}}return i};this.show=function(n,l,o,k,h,m){var m=m||"T";if(!e){b()}if(o!=undefined){c.textAttr(k).attr({text:o,});var j=c.getBBox(),i,g;if(m=="T"){i=0;g=-8-j.height/2-5}else{if(m=="B"){i=0;g=8+j.height/2+5}else{if(m=="L"){i=-8-j.width/2-5;g=0}else{i=8+j.width/2+5;g=0}}}c.attr({x:i,y:g});d.attr({path:a(j,m)}).attr(h)}e.transform(["t",n,l].join()).attr({opacity:1})};this.hide=function(){if(e){e.transform("t0,0").attr({opacity:0})}}};crownix.ns("crownix.chart.Layout");(function(){crownix.chart.Layout=function(b,d){var d=d;var b=b;var a=["#77B5FE","#71BC78","#966FD6","#FF7F50","#48B7A7","#D26A8B","#F7DC6F","#779ECB","#FFB347","#999999","#B5A642","#5D8AA8","#A93226","#884EA0","#2471A3","#138D75","#D68910","#D0D3D4","#2E4053"];var h=0;var i={top:d.chart.marginTop,right:Math.floor(b.width)-d.chart.marginRight,bottom:Math.floor(b.height)-d.chart.marginBottom,left:d.chart.marginLeft,};var c=[],f=0,g=0,e=[];this.getSeriesDemension=function(l){var k=Math.floor(l.width);var j=Math.floor(l.height);return{top:d.chart.marginTop,right:k-d.chart.marginRight,bottom:j-d.chart.marginBottom,left:d.chart.marginLeft,}};this.getArea=function(){return i};this.addArea=function(j,k){switch(j){case"T":case"top":i.top=i.top+k.height+15;break;case"L":case"left":i.left=i.left+k.width+15;break;case"B":case"bottom":i.bottom=i.bottom-k.height-15;break;case"R":case"right":i.right=i.right-k.width-15;break}return i};this.nextColor=function(){return a[h++%a.length]};this.setSeries=function(l){var k=l.getType(),j=l.isXYChart();if(j&&k=="bar"){f++}};this.getColumnCount=function(){return f};this.getColumnIndex=function(){return g};this.addColumnIndex=function(){g++}}})();crownix.ns("crownix.chart.Series");(function(){crownix.chart.Series=function(q,h,E,l){var D=crownix.chart.util.Path;var e=crownix.chart.type.Bar;var w=crownix.chart.type.Line;var C=crownix.chart.type.Pie;var i=crownix.chart.type.Polar;var p=crownix.chart.type.AngularGauge;var m=crownix.chart.type.LinearGauge;var j=crownix.chart.util.Format;var r=function(H,I){if(I=="pie"){return"circle"}else{if(I=="bar"){return"square"}else{return H.symbol}}};var G=function(K,M,L,I){if(L=="pie"){var N=[];for(var J=0,H=K.data.length;J<H;J++){N.push(K.data[J].name||"Sector "+(J+1))}return N}else{if(L!="pie"){return[K.name||"Series "+(I+1)]}}};var n=function(K,M,L){if(L=="pie"||L=="gauge"){var I=[];for(var J=0,H=K.data.length;J<H;J++){I.push(K.data[J].color||M.nextColor())}return I}else{return[K.symbolColor||K.color||M.nextColor()]}};var u=function(){f=0;for(var I=0,H=F.length;I<H;I++){var J=parseFloat(F[I]["value"]);f+=Math.abs(J)}return f};var q=$.extend(true,{},crownix.chart.options.SERIES_DEFAULT,q),F=q.data,g=q.type||h.type,d=r(q,g),s=G(q,E,g,l),o=n(q,E,g),v=q.axisX,z=q.axisY,a=q.axisX2,c,b,k,t=Math.min.apply(Math,F),B=Math.max.apply(Math,F),f=g=="pie"?u():0,h=h,A=q.showLegend||false;this.getData=function(){return F};this.getType=function(){return g};this.getAxisXIndex=function(){return v};this.getAxisYIndex=function(){return z};this.getAxisX2Index=function(){return a};this.setAxisX=function(H){this.axisX=H};this.setAxisY=function(H){this.axisY=H};this.getAxisX=function(){return c};this.getAxisY=function(){return b};this.setPolarGrid=function(H){this.polarGrid=H};this.getPolarGrid=function(){return this.polarGrid};this.getMinValue=function(){return t};this.getMaxValue=function(){return B};this.isXYChart=function(){return(g=="line"||g=="bar")};this.getName=function(H){if(H!=undefined){return s[H]}else{return s}};this.getShape=function(){return d};this.getColor=function(H){if(H!=undefined){return o[H]}else{return o}};this.showLegend=function(){return A};this.getLegendLabels=function(I){if(h.legend.format==undefined){return this.getName(I)}var H={};if(this.getType()=="pie"){H.name=q.data[I].name;H.value=q.data[I].value;H.percentValue=q.data[I].value/f*100}else{H.name=q.name;H.value=""}return j.convert(H,h.legend.format,h.legend.formatter)};this.draw=function(J,I){var H;if(g=="bar"){H=new e(J,I,h,this.axisX,this.axisY)}else{if(g=="line"){H=new w(J,I,h,this.axisX,this.axisY)}else{if(g=="pie"){H=new C(J,I,h)}else{if(g=="polar"){H=new i(J,I,h,this.polarGrid)}else{if(g=="gauge"){if(q.gaugeType=="angular"){H=new p(J,I,h)}else{if(q.gaugeType=="linear"){H=new m(J,I,h)}}}}}}}H.draw(q,this.getColor())}}})();crownix.ns("crownix.chart.Legend");(function(){crownix.chart.Legend=function(b,v,r){var z=crownix.chart.util.Path;var b=b,v=v,E=r.x,D=r.y,a=b.width,d=b.height,q=a,I=d;var A=r.layout,H=r.align,F=r.position,g=r.borderWidth,w=r.borderColor,o=r.floating,s={"text-anchor":"start","font-size":r.font.size,"font-family":r.font.family,fill:r.font.color,"font-weight":r.font.weight,},u=r.format,h=r.formatter;var K=0,t=5,M=5,i=5,J=5,B=false,j=5,G=5;var l=[],p,m,C,f;var k=function(P){var X=E,W=D,Y=P.set(),T=P.set();if(typeof X=="string"&&typeof W=="string"&&X.charAt(X.length-1)=="%"&&W.charAt(W.length-1)=="%"){X=P.width*parseInt(X)/100;W=P.height*parseInt(W)/100}for(var V in l){var R=l[V].symbol,Z=l[V].text,S=l[V].color;var Q=5;var N=P.set(),O=z.symbol(P,X,W+M,R,Q,S),U=P.text(X+Q+j,W+M,Z).textAttr(s);N.push(O,U);if(!K){K=N.getBBox().height}if(A=="horizontal"){X+=(N.getBBox().width)+t;T.push(N);if(T.getBBox().width+N.getBBox().width+(J*3)>(q-J*2)){Y.push(T);T=P.set();X=E;W=D+K+i}}else{W+=K+i;Y.push(N)}}if(T.length>0){Y.push(T)}return Y};var L=function(S){var U=S.set(),R=m.getBBox();if(R.height>I*0.8){B=true}var N=R.x-G,T=R.y-G-M,O=R.width+(G*2),P=R.height+(G*2)+M+i;if(B){P=Math.floor((I*0.8)/(K+M+i))*(K+M+i)+M+i}var Q=S.rect(N,T,O,P,0).attr({stroke:w,"stroke-width":g,});U.push(Q);return U};var e=function(O){var Y=O.set,T=p.getBBox();var N=O.set(),X=T.x,W=T.y,Z=T.width,Q=I*0.8,V=1,P=Math.ceil(m.getBBox().height/(Math.floor((I*0.8)/(K+M+i))*(K+M+i))),S={};var aa=function(ab){var ac=Math.floor((I*0.8)/(K+M+i))*(K+M+i),ae=Math.round(m.getBBox().x)-4,ad;if(ab){V--;ad=Math.round(m.getBBox().y)-14+ac}else{V++;ad=Math.round(m.getBBox().y)-ac}S.attr({text:V+" / "+P});m.animate({transform:"t"+ae+","+ad,"clip-rect":[0,ac*(V-1),Z,ac],},500,"linear")};var U=z.symbol(O,X+10,W+Q+10,"triangle",5,"black"),R=z.symbol(O,X+30,W+Q+10,"triangle_down",5,"black");S=O.text(X+50,W+Q+10,V+" / "+P).textAttr(s);U.click(function(ab){if(V!=1){aa(true)}});R.click(function(ab){if(V!=P){aa(false)}});N.push(U);N.push(R);N.push(S);return N};var c=function(Q,P,O){var N;if(o){if(H=="left"){N=J+G+1}else{if(H=="right"){N=b.width+J+G-P-3}else{N=b.width/2+J+G-P/2}}}else{if(H=="left"){if(A=="vertical"||F=="middle"){N=Q.left+(J+G)-P-O}else{N=Q.left+(J+G)}}else{if(H=="right"){if(A=="vertical"||F=="middle"){N=Q.right+J+G+O}else{N=Q.right+(J+G)-P}}else{N=Q.left+(Q.right-Q.left)/2+J+G-P/2}}}return N};var n=function(P,O,N){var Q;if(o){if(F=="top"){Q=J+G+2}else{if(F=="bottom"){Q=b.height+J+G-O-1}else{Q=b.height/2+J+G-O/2}}}else{if(F=="top"){if(A=="horizontal"||H=="center"){Q=P.top+(J+G)-O-N}else{Q=P.top+(J+G)}}else{if(F=="bottom"){if(A=="horizontal"||H=="center"){Q=P.bottom+J+G+N}else{Q=P.bottom-(J+G)-O}}else{Q=P.top+(P.bottom-P.top)/2+J+G-O/2}}}return Q};this.add=function(O){if(O.getType()=="gauge"){return}if(O.getType()!="pie"){if(O.getLegendLabels(0)==""){return}l.push({symbol:O.getShape(),text:O.getLegendLabels(0),color:O.getColor(0)?O.getColor(0):"#000000"})}else{if(O.getType()=="pie"&&O.showLegend()){for(var N=0;N<O.getName().length;N++){if(O.getLegendLabels(N)==""){continue}l.push({symbol:O.getShape(),text:O.getLegendLabels(N),color:O.getColor(N)?O.getColor(N):"#000000"})}}}};this.getLength=function(){return l.length};this.draw=function(){p=b.set();m=k(b);p.push(m);C=L(b);p.push(C);if(B){f=e(b);p.push(f)}};this.measure=function(){this.draw();if(!o){var N=p.getBBox();var O={width:N.width,height:N.height,};if(A=="horizontal"){if(F!="middle"){v.addArea(F.substr(0,1).toUpperCase(),O)}else{if(H!="center"){v.addArea(H.substr(0,1).toUpperCase(),O)}}}else{if(H!="center"){v.addArea(H.substr(0,1).toUpperCase(),O)}else{if(F!="middle"){v.addArea(F.substr(0,1).toUpperCase(),O)}}}}};this.movePosition=function(){var S=v.getArea(),O=p.getBBox().width,R=p.getBBox().height,N=15,Q,P;if(B){R+=f.getBBox().height}Q=c(S,O,N);P=n(S,R,N);p.transform("t"+Q+","+P);if(B){R=Math.floor((I*0.8)/(K+M+i))*(K+M+i);m.attr({"clip-rect":[0,0,O,R]})}}}})();crownix.ns("crownix.chart.axis.Tick");(function(){var b=[1,2,2.5,5];var f=8;var i=crownix.chart.axis.Tick;var k=function(l){return Math.log(l)/Math.log(10)};var c=function(l){if(l==0){return 0}else{return Math.floor(k(l))}};var a=function(o,n,l){var m;if(o){m=(l>0&&n<0)?l-n:Math.max(Math.abs(n),Math.abs(l))}else{m=Math.abs(l-n)}return m};var h=function(p,o){var n;for(var m=0,l=b.length-1;m<l;m++){if(p>=b[m]*Math.pow(10,o)&&p<b[m+1]*Math.pow(10,o)){n=b[m+1]*Math.pow(10,o)}}if(!n){n=b[0]*Math.pow(10,o)*10}return n};var d=function(p,n,l,o,m){var q;if(m&&m==2&&Math.floor(n/o)*o+o<l){q=Math.floor(n)}else{if(l>0&&n>0){q=p?0:(parseInt(n/o)-1)*o}else{if(l<0&&n<0){q=(n%o==0)?n:Math.floor(n/o)*o}else{q=(n%o==0)?n:Math.floor(n/o)*o}}}return q};var e=function(q,o,l,r,s,p,u){var t=[],n=o;if(q=="linear"){for(var m=0;n<r;m++){n=l+s*m;if(p<0){n=parseFloat(n.toFixed(Math.abs(p)))}t.push(n)}}else{if(p<0){n=parseFloat(n.toFixed(Math.abs(p)))}t.push(n);if(u){for(var m=1;m<u;m++){n+=s;if(p<0){n=parseFloat(n.toFixed(Math.abs(p)))}t.push(n)}}else{while(n<=r){n+=s;if(p<0){n=parseFloat(n.toFixed(Math.abs(p)))}t.push(n)}}}return t};i.calculateTick=function(s,n,t,w,m,r){var u,v=[],p,r=r||f,m=m==0?undefined:m,q;var o=a(s=="auto",n,t);var l=o/(w?(w-1):r);if(s=="linear"){if(m){u=m;q=c(u)}else{q=c(l);u=h(l,q)}p=n}else{q=c(l);u=h(l,q);p=d(s=="auto",n,t,u,w)}v=e(s,p,n,t,u,q,w);return{min:n,max:t,minTick:v[0],maxTick:v[v.length-1],unit:u,ticks:v,tickAmount:v.length,}};var g=function(l){var m=0;while(l.toString().indexOf(".")!=-1){l*=10;m++}return m};var j=function(o,l,m){var p=[],n=o;while(n<=l&&m!=0){p.push(n);n+=Math.abs(m);if(n.toString().indexOf(".")!=-1){n=parseFloat(n.toFixed(Math.abs(g(m))))}}return p};i.calculateGaugeTick=function(p,m,s){var r=[],o=[],q=[],n;if(p>m){var l;l=p;p=m;m=l;isReverse=true}r=j(p,m,s.majorInterval);o=j(p,m,s.minorInterval);q=j(p,m,s.microInterval);r.forEach(function(t){n=o.indexOf(t);(n!=-1)&&o.splice(n,1);n=q.indexOf(t);(n!=-1)&&q.splice(n,1)});o.forEach(function(t){n=q.indexOf(t);(n!=-1)&&q.splice(n,1)});return{majorTicks:r,minorTicks:o,microTicks:q}}})();crownix.ns("crownix.chart.axis.Axis");crownix.chart.axis.Axis=(function(){var b=crownix.chart.axis.Tick,d=crownix.chart.util.Path,f=crownix.chart.util.Util,c=crownix.chart.util.Format;var a=function(k,j){var l=k.set(),h;var i=k.text(0,0,j.text).textAttr({"font-size":j.font.size,"font-family":j.font.family,"text-anchor":"middle","font-weight":j.font.weight,fill:j.font.color,transform:["r",j.rotation,0,0].join(",")});l.push(i);h=l.getBBox();return{width:h.width,height:h.height,title:l}};var g=function(j,s,o){var r=j.set(),h=0,t=0,n;for(var m=0,k=s.length;m<k;m++){var l={value:s[m]};var q=c.convert(l,o.format,o.formatter);var p=j.text(0,0,q).attr({"font-size":"12pt","font-family":"Arial","text-anchor":"end",fill:"#171717",transform:["r",o.rotation,0,0].join(",")});r.push(p);n=p.getBBox();h=Math.max(n.width,h);t=Math.max(n.height,t)}return{width:h,height:t,labels:r}};var e=function(){this.seriesList=[];this.tick={};this.settings={};this.position="L";this.way=1;this.area={};this.gap;this.size;this.start;this.tickLength=10};e.prototype={constructor:crownix.chart.axis.Axis,setSeries:function(h){this.seriesList.push(h)},calculateTick:function(k){var j=this.getXYMin(),h=this.getXYMax(),l,k=k?k:this.tickAmount;if(k&&k<2){k=undefined}if(this.scale=="linear"){var i;if(this.min!==undefined){j=this.min}if(this.max!==undefined){h=this.max}i=this.tickInterval;this.tick=b.calculateTick(this.scale,j,h,k,i)}else{if(this.scale=="none"){this.tick=b.calculateTick(this.scale,j,h)}else{this.tick=b.calculateTick(this.scale,j,h,k)}}},measure:function(j,h){this.area=g(j,this.tick.ticks,this.labels);if(this.title.enable&&this.title.text){var i=a(j,this.title);if(this.position=="T"||this.position=="B"){this.area.height+=i.height}else{this.area.width+=i.height}this.area.title=i.title;this.area.titleWidth=i.width;this.area.titleHeight=i.height}h.addArea(this.position,this.area);this.axisArea=JSON.parse(JSON.stringify(h.getArea()))},drawAxis:function(p,H,C){var E=H.getArea(),h=this.axisArea,A=this.area.width,u=this.area.height,L=this.position,G,K,w=10,l=5,z=0;titleHeight=0;if(this.title.enable&&this.title.text){var J=this.area.title,D=f.toAbsAngle(this.title.rotation),r,o,n;titleHeight=this.area.titleHeight;z=this.area.titleWidth;if(L=="T"||L=="B"){if(this.title.align=="left"){r=E.left+z/2}else{if(this.title.align=="right"){r=E.right-z/2}else{r=E.left+(E.right-E.left)/2}}}else{if(L=="R"){if(this.title.align=="left"){r=E.top+z/2}else{if(this.title.align=="right"){r=E.bottom-z/2}else{r=E.top+(E.bottom-E.top)/2}}}else{if(this.title.align=="left"){r=E.bottom-z/2}else{if(this.title.align=="right"){r=E.top+z/2}else{r=E.top+(E.bottom-E.top)/2}}}}if(L=="T"){o=r;n=h.top-(u+this.tickLength+5)+titleHeight/2}else{if(L=="B"){o=r;n=h.bottom+(u+this.tickLength+5)-titleHeight/2}else{if(L=="L"){o=h.left-(A+this.tickLength+5)+titleHeight/2;n=r;D-=90}else{if(L=="R"){o=h.right+(A+this.tickLength+5)-titleHeight/2;n=r;D+=90}}}}J.attr({x:o,y:n,transform:["r",D,o,n].join(",")})}switch(L){case"T":case"B":this.size=E.right-E.left;this.start=E.left;break;case"L":case"R":this.size=E.bottom-E.top;this.start=E.bottom;break}this.gap=this.size/(this.tick.ticks.length+(this.isAsixX()?0:-1));var s=this.area.labels,m=s.length,v=this.gap,t=this.isAsixX()?v/2:0,j=this.tickLength;self=this;s.attr({"text-anchor":"middle"});s.forEach(function(N,O){var P=N.getBBox(),Q=f.toAbsAngle(self.labels.rotation),M,R;if(L=="T"){M=E.left+v*O+t;R=h.top-j+P.y;if((Q>=20&&Q<=70)||(Q>=200&&Q<=250)){M+=P.x+5}else{if((Q>=110&&Q<=160)||(Q>=290&&Q<=340)){M-=P.x+5}else{R-=5}}}else{if(L=="B"){M=E.left+v*O+t;R=h.bottom+j-P.y;if((Q>=20&&Q<=70)||(Q>=200&&Q<=250)){M-=P.x+5}else{if((Q>=110&&Q<=160)||(Q>=290&&Q<=340)){M+=P.x+5}else{R+=5}}}else{if(L=="L"){M=h.left-j+P.x;R=E.bottom-v*O-t;if((Q>=20&&Q<=70)||(Q>=200&&Q<=250)){R+=P.y+5}else{if((Q>=110&&Q<=160)||(Q>=290&&Q<=340)){R-=P.y+5}else{M-=5}}}else{if(L=="R"){M=h.right+j-P.x;R=E.bottom-v*O-t;if((Q>=20&&Q<=70)||(Q>=200&&Q<=250)){R-=P.y+5}else{if((Q>=110&&Q<=160)||(Q>=290&&Q<=340)){R+=P.y+5}else{M+=5}}}}}}N.attr({x:M,y:R,transform:["r",self.labels.rotation,M,R].join(",")})});var I=E.width;var k=p.set();for(var B=0,F=this.tick.ticks.length;B<F;B++){if(C){k.push(this.renderGridLine(p,E,d,B))}var q=this.renderTick(p,E,h,d,B);k.push(q)}this.renderAxis(p,E,h);k.attr({stroke:"#C0D0E0","stroke-width":1})},renderAxis:function(l,k,i){var k=k,i=i,h=this.position,j;if(h=="T"){j=d.lineTo(l,k.left,i.top,k.right,i.top)}else{if(h=="B"){j=d.lineTo(l,k.left,i.bottom,k.right,i.bottom)}else{if(h=="L"){j=d.lineTo(l,i.left,k.top,i.left,k.bottom)}else{if(h=="R"){j=d.lineTo(l,i.right,k.top,i.right,k.bottom)}}}}j.attr(this.lineAttr)},getTicks:function(){return this.tick},getTickGap:function(){return this.gap},getPosition:function(){return this.position}};return e}());crownix.ns("crownix.chart.axis.AxisX");crownix.chart.axis.AxisX=(function(){var c=crownix.chart.axis.Axis;var b=crownix.chart.axis.Tick;var e=crownix.chart.util.Path;var h=function(i){};var d=function(j,i){var k=[["B","T"],["L","R"]];return k[j.inverted|0][i.opposite|0]};var a=function(m,l){if(m&&m.length>=l.getData().length){return m}else{var j=[];for(var k=0;k<l.getData().length;k++){if(m&&m[k]){j.push(m[k])}else{j.push(k)}}return j}};var g=function(j,i){var i=$.extend(true,{},crownix.chart.options.DEFAULT.common.axisX,j.common.axisX,i);this.settings=j;this.position=d(j,i);this.tick={ticks:i.data},this.labels=i.labels,this.seriesList=[];this.way=1;this.area={};this.lineAttr={stroke:i.lineColor,"stroke-width":i.lineWidth,};this.title=i.title;this.gap;this.size;this.start};var f=g.prototype=new c();f.constructor=crownix.chart.axis.AxisX;f.draw=function(l,k,j,i){this.drawAxis(l,k,j,i)};f.getCoord=function(j){return this.start+(this.gap*j+this.gap/2)*(this.settings.inverted?-1:1)};f.renderTick=function(n,m,j,l,k){if(this.position=="T"){ps=l.lineto(n,m.left+this.gap*k+this.gap/2,j.top,0,-this.tickLength)}else{if(this.position=="B"){ps=l.lineto(n,m.left+this.gap*k+this.gap/2,j.bottom,0,this.tickLength)}else{if(this.position=="L"){ps=l.lineto(n,j.left,m.bottom-this.gap*k-this.gap/2,-this.tickLength,0)}else{if(this.position=="R"){ps=l.lineto(n,j.right,m.bottom-this.gap*k-this.gap/2,this.tickLength,0)}}}}return ps};f.isAsixX=function(){return true};f.setSeries=function(i){this.seriesList.push(i);this.tick.ticks=a(this.tick.ticks,i)};return g}());crownix.ns("crownix.chart.axis.AxisY");crownix.chart.axis.AxisY=(function(){var c=crownix.chart.axis.Axis;var a=crownix.chart.axis.Tick;var d=crownix.chart.util.Path;var g=function(h){};var b=function(j,h){var k=[["B","T"],["L","R"]],i={B:["L","R"],L:["B","T"],T:["L","R"],R:["B","T"]};return i[k[j.inverted|0][j.axisX[0].opposite|0]][h.opposite|0]};var f=function(i,h){var h=$.extend(true,{},crownix.chart.options.DEFAULT.common.axisY,i.common.axisY,h);i.axisX[0]=$.extend(true,{},i.common.axisX,i.axisX[0]);this.settings=i;this.seriesList=[];this.tick={};this.labels={format:h.labels.format,formatter:h.labels.formatter,rotation:h.labels.rotation};this.position=b(i,h);this.way=1;this.area={};this.lineAttr={stroke:h.lineColor,"stroke-width":h.lineWidth,};this.title=h.title;this.gap;this.size;this.start;this.xyMin=Number.MAX_VALUE;this.xyMax=-Number.MAX_VALUE;this.stackValue=[];this.accData=[];this.scale=h.scale;this.tickAmount=h.tickAmount;this.min=h.min;this.max=h.max;this.tickInterval=h.tickInterval};var e=f.prototype=new c();e.constructor=crownix.chart.axis.AxisY;e.draw=function(k,j,i,h){this.drawAxis(k,j,i,h)};e.getCoord=function(h){return this.start+this.size*(h-this.tick.minTick)/(this.tick.maxTick-this.tick.minTick)*(this.settings.inverted?1:-1)};e.renderGridLine=function(m,k,h,j){var l;if(this.position=="T"||this.position=="B"){l=d.lineto(m,k.left+this.gap*j,k.top,0,k.bottom-k.top)}else{if(this.position=="L"||this.position=="R"){l=d.lineto(m,k.left,k.bottom-this.gap*j,k.right-k.left,0)}}return l};e.renderTick=function(n,l,h,k,j){var m;if(this.position=="T"&&h.top==l.top){m=k.lineto(n,l.left+this.gap*j,l.top-10,0,10)}else{if(this.position=="B"&&h.bottom==l.bottom){m=k.lineto(n,l.left+this.gap*j,l.bottom+10,0,-10)}else{if(this.position=="L"&&h.left==l.left){m=k.lineto(n,l.left-10,l.bottom-this.gap*j,10,0)}else{if(this.position=="R"&&h.right==l.right){m=k.lineto(n,l.right+10,l.bottom-this.gap*j,-10,0)}}}}return m};e.isAsixX=function(){return false};e.setSeries=function(n){var m=n.getType(),l=n.isXYChart(),o=n.getData(),k=this.settings.common.column.type;if(l){if(m=="bar"){if(k=="stack"){for(var j=0,h=o.length;j<h;j++){if(o[j]>0){this.accData[j]=(this.accData[j]==undefined?0:this.accData[j])+o[j]}}this.xyMin=Math.min.apply(Math,this.accData);this.xyMax=Math.max.apply(Math,this.accData)}else{this.xyMin=Math.min(this.xyMin,n.getMinValue());this.xyMax=Math.max(this.xyMax,n.getMaxValue())}}else{this.xyMin=Math.min(this.xyMin,n.getMinValue());this.xyMax=Math.max(this.xyMax,n.getMaxValue())}}};e.getXYMin=function(){return this.xyMin};e.getXYMax=function(){return this.xyMax};e.getStackValue=function(h){return this.stackValue[h]};e.setStackValue=function(i,h){this.stackValue[h]=i};e.getAccValue=function(h){return this.accData[h]};return f}());crownix.ns("crownix.chart.Title");(function(){crownix.chart.Title=function(c,b){var a=crownix.chart.util.Path;var c=c,b=b;this.draw=function(p){if(!p.title.text){return}var d=b.getArea(),i=p.title.position,j=p.title.align,m,k,e,g,l=10;var o=c.text().textAttr({text:p.title.text,"font-family":p.title.font.family,"font-size":p.title.font.size,"font-weight":p.title.font.weight,fill:p.title.font.color,transform:["r",p.title.rotation,0,0].join(",")});g=o.getBBox();switch(i){case"top":default:k=d.top-g.y;break;case"middle":k=d.top+(d.bottom-d.top)/2;break;case"bottom":k=d.bottom-g.y2;break}switch(j){case"left":m=d.left-g.x;e="start";break;case"center":default:m=d.left+(d.right-d.left)/2;e="middle";break;case"right":m=d.right-g.x2;e="end";break}o.attr({x:m,y:k,transform:["r",p.title.rotation,m,k].join(",")});if(true){b.addArea(i,{width:g.width,height:g.height})}else{g=o.getBBox();var l=5,m=g.x-l,k=g.y-l,n=g.width+(l*2),f=g.height+(l*2);c.rect(m,k,n,f).attr({stroke:"green"})}}}})();crownix.ns("crownix.chart.type.Bar");crownix.chart.type.Bar=function(b,f,i,d,c){var e=crownix.chart.util.Path;var g=crownix.chart.util.Format;var h=function(k,p,n,o,l,j){var m=b.text(0,0,o).textAttr(j);if(l){k=k+m.getBBox().width*2/3*(n<=0?1:-1)}else{p=p+m.getBBox().height*2/3*(n>0?1:-1)}m.attr({x:k,y:p});return m};var a=function(o,l,j,k,m){var n=new crownix.chart.Tooltip(b),p;o.hover(function(){p=this.attr({opacity:1,}).glow({width:10,color:j});var s=this.getBBox(),r=l.font,q,u,t;if(k=="T"){q=s.x+s.width/2;if(m>s.y){t="T";u=s.y}else{t="B";u=s.y+s.height}}else{if(k=="B"){q=s.x+s.width/2;u=s.y;if(m>s.y){t="T";u=s.y}else{t="B";u=s.y+s.height}}else{if(k=="L"){u=s.y+s.height/2;if(m>s.x){t="L";q=s.x}else{t="R";q=s.x+s.width}}else{q=s.x;u=s.y+s.height/2;if(m>s.x){t="L";q=s.x}else{t="R";q=s.x+s.width}}}}n.show(q,u,this.data("tooltip"),{"font-family":r.family,"font-size":r.size,"font-weight":r.weight,fill:r.color},{opacity:0.8,stroke:j,fill:"#FFFFFF","stroke-width":1},t)},function(){this.attr({opacity:0.8,});n.hide();if(p){p.remove()}})};this.draw=function(z,t){z=$.extend(true,{},crownix.chart.options.BAR_DEFAULT,z);z.dataLabels=$.extend(true,{},i.common.dataLabels,z.dataLabels);z.tooltip=$.extend(true,{},i.common.tooltip,z.tooltip);var L=f.getArea(),Q=z.data,r=i.common.column.type,j=d.getTicks(),F=c.getTicks(),R=j.ticks,k=F.ticks,K=d.getTickGap(),G=z.color||t[0],p,m,v=b.set(),u,s,o,A,E,P,O=f.getColumnCount(),N=f.getColumnIndex(),B=o=F.minTick>0?c.getCoord(F.minTick):c.getCoord(0),l=0;for(var J=0,I=Q.length;J<I;J++){var E=parseFloat(Q[J]);if(isNaN(E)||E<0){l=0;break}l+=E}b.setStart();for(var J=0,M=R.length;J<M;J++){if(Q[J]==undefined){continue}var E=Q[J]>F.maxTick?F.maxTick:Q[J],A=K*2/3;if(r=="stack"&&E<0){continue}if(i.inverted){u=c.getCoord(E);s=d.getCoord(J);tStr="s0,1,0"+B+",0";if(r=="side"&&O>1){s=s-A/2+A/O/2+A/O*N;A=A/O*2/3}else{if(r=="stack"){P=c.getStackValue(J)||0;E=P+E;o=c.getCoord(P);u=c.getCoord(E);c.setStackValue(E,J)}}bar=e.hBar(b,u,s,o,A)}else{u=d.getCoord(J);s=c.getCoord(E);tStr="s1,0,0,0"+B;if(r=="side"&&O>1){u=u-A/2+A/O/2+A/O*N;A=A/O*2/3}else{if(r=="stack"){P=c.getStackValue(J)||0;E=P+E;o=c.getCoord(P);s=c.getCoord(E);c.setStackValue(E,J)}}bar=e.vBar(b,u,s,o,A)}var n={value:z.data[J],name:z.name,xLabel:d.tick.ticks[J],x:J,percentValue:l==0?undefined:z.data[J]/((r=="stack"&&E>0)?c.getAccValue(J):l)*100};bar.data("tooltip",g.convert(n,z.tooltip.format,z.tooltip.formatter)).data("data",Q[J]).data("x",u).data("y",s).attr({fill:G,stroke:"#C0D0E0",opacity:0.8,});if(z.animation){bar.transform(tStr)}if(z.dataLabels.enable){var C=z.dataLabels.font,H=g.convert(n,z.dataLabels.format,z.dataLabels.formatter);var q=h(u,s,z.data[J],H,i.inverted,{opacity:z.animation?0:0.8,"font-family":C.family,"font-size":C.size,"font-weight":C.weight,fill:C.color});v.push(q)}if(typeof z.onClick=="function"){bar.click((function(w){return function(){z.onClick(w)}})({value:Q[J]}))}}f.addColumnIndex();var D=b.setFinish();if(!z.animation&&z.tooltip.enable){a(D,z.tooltip,G,d.getPosition(),B)}if(z.animation){D.animate({transform:""},1500,"<>",function(){if(z.tooltip.enable){a(D,z.tooltip,G,d.getPosition(),B)}if(z.dataLabels.enable){v.attr({opacity:0.8})}})}}};crownix.ns("crownix.chart.type.Line");crownix.chart.type.Line=function(a,e,i,c,b){var d=crownix.chart.util.Path;var f=crownix.chart.util.Format;var g=function(k,n,m,j){var l=a.text(0,0,m).textAttr(j);l.attr({x:k,y:n-l.getBBox().height*2/4-6,});return l};var h=function(o,j,p,m,n,k){var l;switch(n){case"diamond":l=d.diamond(o,j,p,m);break;case"square":l=d.square(o,j,p,m);break;case"triangle":l=d.triangle(o,j,p,m);break;case"triangle_down":l=d.triangle_down(o,j,p,m);break;default:l=o.circle(j,p,n=="no"?0:m)}return l.attr({stroke:"none",fill:k,opacity:1})};this.draw=function(k,N){k=$.extend(true,{},crownix.chart.options.LINE_DEFAULT,k);k.dataLabels=$.extend(true,{},i.common.dataLabels,k.dataLabels);k.tooltip=$.extend(true,{},i.common.tooltip,k.tooltip);var E=e.getArea();var R=k.data;var j=c.getTicks();var L=b.getTicks();var B=j.ticks;var S=L.ticks;var l=c.getTickGap();var D=k.color||N[0];var p=k.symbol;var T=k.symbolSize;var s=a.set();var z=k.lineWidth;var G=k.step;var I=k.lineType;var H;var o=[];var v=0;for(var P=0,C=R.length;P<C;P++){var M=parseFloat(R[P]);if(isNaN(M)||M<0){v=0;break}v+=M}for(var P=0,A=B.length;P<A;P++){var K,J,r,U;if(R[P]==undefined){continue}if(i.inverted){K=b.getCoord(R[P]);J=c.getCoord(P)}else{K=c.getCoord(P);J=b.getCoord(R[P])}if(P==0||(P!=0&&R[P-1]==undefined)){o.push("M")}else{if(I!=="spline"){o.push("L")}else{if(P==1){o.push("R")}}}if(I==="step"&&P!=A-1){o.push(K);o.push(J);o.push("L");if(i.inverted){r=b.getCoord(R[P+1]);U=c.getCoord(P+1);if(G=="right"){o.push(r);o.push(J)}else{if(G=="center"){o.push(K);o.push(U-(U-J)/2);o.push("L");o.push(r);o.push(U-(U-J)/2)}else{o.push(K);o.push(U)}}}else{r=c.getCoord(P+1);U=b.getCoord(R[P+1]);if(G=="right"){o.push(K);o.push(U)}else{if(G=="center"){o.push(r-(r-K)/2);o.push(J);o.push("L");o.push(r-(r-K)/2);o.push(U)}else{o.push(r);o.push(J)}}}}else{o.push(K);o.push(J)}}var n=a.path(o).attr({stroke:D,"stroke-width":z,opacity:0.8});if(k.animation){var t=$(n.node);t.css({"stroke-dasharray":"9999px","stroke-dashoffset":"9999px"});var w=Raphael.getTotalLength(o),q;t.animate({"stroke-dashoffset":(9999-w)+"px"},{duration:1500,complete:function(){if(k.dataLabels.enable){s.attr({opacity:0.8})}}})}if(k.tooltip.enable){H=new crownix.chart.Tooltip(a)}for(var P=0,A=B.length;P<A;P++){if(R[P]==undefined){continue}if(i.inverted){K=b.getCoord(R[P]);J=c.getCoord(P)}else{K=c.getCoord(P);J=b.getCoord(R[P])}var u={value:k.data[P],name:k.name,xLabel:c.tick.ticks[P],x:P,percentValue:v==0?undefined:k.data[P]/v*100};var F=h(a,K,J,T,p,D).data("tooltip",f.convert(u,k.tooltip.format,k.tooltip.formatter)).data("data",R[P]).data("x",K).data("y",J).data("r",T).attr({stroke:"none",fill:D,opacity:1,});if(k.tooltip.enable){F.hover(function(){q=n.glow({width:10,color:D});var V=k.tooltip.font;H.show(this.data("x"),this.data("y")-this.data("r"),this.data("tooltip"),{"font-family":V.family,"font-size":V.size,"font-weight":V.weight,fill:V.color},{opacity:0.8,stroke:D,fill:"#FFFFFF","stroke-width":1})},function(){q.remove();H.hide()})}if(k.dataLabels.enable){var Q=k.dataLabels.font,m=f.convert(u,k.dataLabels.format,k.dataLabels.formatter);var O=g(K,J,m,{opacity:k.animation?0:0.8,"font-family":Q.family,"font-size":Q.size,"font-weight":Q.weight,fill:Q.color});s.push(O)}if(typeof k.onClick=="function"){F.click((function(V){return function(){k.onClick(V)}})({value:R[P]}))}}}};crownix.ns("crownix.chart.type.Pie");crownix.chart.type.Pie=function(h,e,b){var d=crownix.chart.util.Path,c=crownix.chart.util.Format,g=crownix.chart.util.Util;var a=function(){var k={};var i={};var j=function(F,q,o,z,s,H,w){var u=F.label,E=g.toAbsAngle(F.centerAngle),v;if(u==undefined||u===""){return}var t=z*(90-s)/90,H=(E>90&&E<270)?0:(H-H*(90-s)/90),G=Math.PI/180,D=q+Math.cos((E-90)*G)*z,p=o+Math.sin((E-90)*G)*t-H,C=q+Math.cos((E-90)*G)*(z+10),n=o+Math.sin((E-90)*G)*(t+10)-H,B=q+Math.cos((E-90)*G)*(z+20),m=o+Math.sin((E-90)*G)*(t+20)-H,A,l;u=h.text(B+(E<180?10:-10),m,u).textAttr({"text-anchor":(E<180)?"start":"end","font-family":w.family,"font-size":w.size,"font-weight":w.weight,fill:w.color});v=u.getBBox();if(E<180&&i&&i.y2>v.y&&F.angle<180){m=m+i.y2-v.y;if(E<90){B=q+Math.sqrt(Math.pow(z+20,2)-Math.pow(m-o,2))}u.attr({x:B+10,y:m})}else{if(E>180&&k&&k.y2>v.y&&F.angle<180){m=m+k.y2-v.y;if(E>270){B=q-Math.sqrt(Math.pow(z+20,2)-Math.pow(m-o,2))}u.attr({x:B-10,y:m})}}if(isNaN(B)){console.log("[Warning]: could not create data label. "+F.label);u.remove();return}if(E<180){i=u.getBBox()}else{k=u.getBBox()}A=B+(E<180?5:-5);l=m;h.path(["M",D,p,"C",C,n,B,m,A,l,].join()).attr({stroke:F.color,"stroke-linejoin":"round"})};return j}();var f=function(i,l,k,j){x=Math.cos((l-90)*Math.PI/180)*k;y=Math.sin((l-90)*Math.PI/180)*k;y=y*(90-j)/90;return i.animate({transform:"t"+x+","+y},1000,"bounce")};this.draw=function(z,v){z=$.extend(true,{},crownix.chart.options.PIE_DEFAULT,z);z.dataLabels=$.extend(true,{},b.common.dataLabels,z.dataLabels);z.tooltip=$.extend(true,{},b.common.tooltip,z.tooltip);var N=e.getArea(),S=z.data,v=z.colors||v,k=0,A,J=z.startAngle%360,m,l,E;var u=z.options3d,n=u.enable,p=0,T=0,R=z.innerPercent;if(n){p=u.alpha;T=u.depth;if(p<0){p=0}else{if(p>90){p=90}}if(T<0){T=0}}for(var L=0,K=S.length;L<K;L++){var F=parseFloat(S[L]["value"]);if(isNaN(F)||F<0){h.clear();h.text(10,30,"[Crownix Chart Error]\nPie charts can not draw a negative value.\ninvalid value: "+F).attr({"text-anchor":"start"});throw Error("[Crownix Chart] invalid value: "+F)}k+=F}if(z.center){m=z.center[0];l=z.center[1];if(typeof m=="string"&&typeof l=="string"&&m.charAt(m.length-1)=="%"&&l.charAt(l.length-1)=="%"){m=h.width*parseInt(m)/100;l=h.height*parseInt(l)/100}}else{m=N.left+(N.right-N.left)/2;l=N.top+(N.bottom-N.top)/2}if(z.radius){E=z.radius;if(typeof E=="string"&&E.charAt(E.length-1)=="%"){E=Math.min(h.width*parseInt(E)/100,h.height*parseInt(E)/100)}}else{E=Math.min((N.bottom-N.top)/2*0.8,(N.right-N.left)/2*0.8)}var t;var o;var j=null;var Q=true;var D=[];if(!z.clockwise){v=v.reverse();S=S.reverse()}for(L=0,K=S.length;L<K;L++){var F=S[L]["value"];var w=F/k*100;var M=360*F/k;if(M==0){M=0.1}else{if(M==360){M=359.9}}var s={value:F,name:S[L].name,label:S[L].name,percentValue:w};D.push({value:F,percentValue:w,label:c.convert(s,z.dataLabels.format,z.dataLabels.formatter),sliced:S[L].sliced,sliceOffset:(S[L].sliceOffset!=undefined)?S[L].sliceOffset:z.sliceOffset,startAngle:J,centerAngle:J+M/2,endAngle:J+M,angle:M,color:v.shift(),tooltip:c.convert(s,z.tooltip.format,z.tooltip.formatter)});J+=M}D.sort(function(W,Z){var X=g.toAbsAngle(W.startAngle),r=g.toAbsAngle(W.centerAngle),i=g.toAbsAngle(W.endAngle),U=g.toAbsAngle(Z.startAngle),Y=g.toAbsAngle(Z.centerAngle),V=g.toAbsAngle(Z.endAngle);if(W.angle>180){return 1}else{if(Z.angle>180){return -1}else{if(i-X<0){return -1}else{if(V-U<0){return 1}else{if(X<180&&i>180){return 1}else{if(U<180&&V>180){return -1}else{if(i==U){return(i<180)?-1:1}else{if(X==V){return(X<180)?1:-1}else{return(Math.abs(180-r)>Math.abs(180-Y))?-1:1}}}}}}}}});var q={};for(var L=0,K=D.length;L<K;L++){var P=D[L];A=d.pie3D(h,m,l,E,P.startAngle,P.endAngle,R,p,T);if(L==0){q=A}A.attr({"stroke-width":(p>0)?0.5:1,stroke:"#F2F3F4",fill:P.color,opacity:0.9,transform:z.animation?["s",0,0,m,l,"t",-(m+E),-(l+E),"r",-180,m,l,"r",-180,m,l]:""});if(n&&p>0&&L!=0&&P.angle>180){var C=g.toAbsAngle(P.startAngle);var O=g.toAbsAngle(P.endAngle);if(O<180&&C>180){A.insertBefore(q)}else{if(O<180){if(O>90){A.forEach(function(i){if(i.data("position")==="middle"){i.insertBefore(q)}})}A.forEach(function(i){if(i.data("position")==="end"){i.insertBefore(q)}})}else{if(C>180){if(C<270){A.forEach(function(i){if(i.data("position")==="middle"){i.insertBefore(q)}})}A.forEach(function(i){if(i.data("position")==="start"){i.insertBefore(q)}})}}}}A.animate({transform:""},z.animation?2000:0,"<>",function(i,r){return function(U){if(z.dataLabels.enable){a(r,m,l,E,p,T,z.dataLabels.font)}if(r.sliced){f(i,r.centerAngle,r.sliceOffset,p)}}}(A,P));if(z.slice){A.click(function(i,r){return function(){i.attr({opacity:0.9});if(t){t.remove()}if(j==i){i.animate({transform:""},1000,"bounce");j=null}else{if(j){j.animate({transform:""},1000,"bounce")}j=f(i,r.centerAngle,r.sliceOffset,p)}}}(A,P))}if(z.tooltip.enable){var o=new crownix.chart.Tooltip(h),B=z.tooltip.font,I=(g.browser.name=="Firefox")?"layerX":"offsetX",H=(g.browser.name=="Firefox")?"layerY":"offsetY",G=(g.browser.name==="IE"||g.browser.name==="Firefox")?2:2+b.chart.borderWidth;A.mouseover(function(i){return function(r){o.show(r[I]-G,r[H]-G,i.tooltip,{"font-family":B.family,"font-size":B.size,"font-weight":B.weight,fill:B.color},{opacity:0.8,stroke:i.color,fill:"#FFFFFF","stroke-width":1})}}(P)).mousemove(function(i){o.show(i[I]-G,i[H]-G)}).mouseout(function(i){o.hide()});A.hover(function(i){return function(r){t=i.attr({opacity:1,}).glow({width:10,color:this.attr("fill")})}}(A),function(i){return function(){i.attr({opacity:0.9,});t.remove()}}(A))}if(typeof z.onClick=="function"){A.click((function(i){return function(){z.onClick(i)}})({value:P.value}))}}}};crownix.ns("crownix.chart.type.PolarGrid");crownix.chart.type.PolarGrid=function(o,G,i){var F=crownix.chart.util.Path,a=crownix.chart.axis.Tick,l=crownix.chart.util.Util;var C=G.getArea(),t=i.polarGrid,u=Number.MAX_VALUE,E=Number.MIN_VALUE,q=0,z=t.startAngle-90,A,h,e,v,k=o.set(),m=o.set(),n,D=o.set();var w=5,g=3;var f=function(){if(t.center){h=t.center[0];e=t.center[1];if(typeof h=="string"&&typeof e=="string"&&h.charAt(h.length-1)=="%"&&e.charAt(e.length-1)=="%"){h=o.width*parseInt(h)/100;e=o.height*parseInt(e)/100}}else{h=C.left+(C.right-C.left)/2;e=C.top+(C.bottom-C.top)/2}if(t.radius){v=t.radius;if(typeof v=="string"&&v.charAt(v.length-1)=="%"){v=Math.min(o.width*parseFloat(v)/100,o.height*parseFloat(v)/100)}else{v=parseFloat(v)}}else{v=Math.min((C.bottom-C.top)/2*0.8,(C.right-C.left)/2*0.8)}};var c=function(){if(t.scale==="linear"&&!isNaN(t.min)&&!isNaN(t.max)&&!isNaN(t.tickInterval)){A=a.calculateTick("linear",t.min,t.max,undefined,t.tickInterval)}else{A=a.calculateTick("auto",u,E,undefined,undefined,w)}};var b=function(){var N=v/(A.tickAmount-1),r;if(t.backgroundColor){o.path(F.circlePath(h,e,v,true)).attr({stroke:"none",fill:t.backgroundColor,})}for(var J=0,H=A.tickAmount;J<H;J++){if(t.altType==="ring"){o.path(F.circlePath(h,e,N*J,true)+F.circlePath(h,e,N*(J-1),false)).attr({fill:(J%2==1)?t.altOddColor:t.altEvenColor,stroke:"none",opacity:0.5})}r=o.circle(h,e,N*J).attr({stroke:(J===H-1)?t.outlineColor:t.lineColor,"stroke-width":(J===H-1)?t.outlineWidth:t.lineWidth,opacity:0.5});m.push(r)}for(J=0,H=t.zone.length;J<H;J++){var M=t.zone[J],I=v,K=undefined,O=M.startAngle?M.startAngle:0,L=M.endAngle?M.endAngle:0;if(!isNaN(M.startValue)&&!isNaN(M.endValue)){if(M.startValue>=A.maxTick){continue}I=v*(M.endValue-A.minTick)/(A.maxTick-A.minTick);K=v*(M.startValue-A.minTick)/(A.maxTick-A.minTick)}var P=F.sectorZonePath(h,e,I,O,L,K,z,t.clockwise);o.path(P).attr({fill:M.fillColor,stroke:M.lineColor||"none",opacity:0.5})}};var p=function(){var Q=v/(A.tickAmount-1),R,O,H,r;if(t.backgroundColor){o.path(F.polygonPath(q,h,e,v,0,360,t.startAngle,0,t.clockwise)).attr({stroke:"none",fill:t.backgroundColor,})}for(var K=0,I=A.tickAmount;K<I;K++){if(t.altType==="ring"){o.path(F.polygonPath(q,h,e,Q*K,0,360,t.startAngle,Q*(K-1),t.clockwise)).attr({fill:(K%2==1)?t.altOddColor:t.altEvenColor,stroke:"none",opacity:0.5})}var r=o.path(F.polygonPath(q,h,e,Q*K,0,360,t.startAngle,0,t.clockwise)).attr({stroke:(K===I-1)?t.outlineColor:t.lineColor,"stroke-width":(K===I-1)?t.outlineWidth:t.lineWidth,opacity:0.5});m.push(r)}for(K=0,I=t.zone.length;K<I;K++){var N=t.zone[K],J=v,L=undefined,P=N.startAngle?N.startAngle:0,M=N.endAngle?N.endAngle:0;if(!isNaN(N.startValue)&&!isNaN(N.endValue)){if(N.startValue>=A.maxTick){continue}J=v*(N.endValue-A.minTick)/(A.maxTick-A.minTick);L=v*(N.startValue-A.minTick)/(A.maxTick-A.minTick)}o.path(F.polygonPath(q,h,e,J,P,M,t.startAngle,L,t.clockwise)).attr({fill:N.fillColor,stroke:N.lineColor||"none",opacity:0.5})}};var s=function(){o.setStart();for(var H=0,r=A.tickAmount-1;H<r;H++){o.text(h+Math.cos(Raphael.rad(z))*v/r*H-g,e+Math.sin(Raphael.rad(z))*v/r*H,A.ticks[H]).attr({"font-size":10,"text-anchor":"end",fill:"#3B444B"})}n=o.setFinish()};var d=function(){if(t.type==="radial"){p()}else{b()}s()};var j=function(){var N=360/q,K=z,H,M,r,L;for(var I=0;I<q;I++){H=h+Math.cos(Raphael.rad(K))*v;M=e+Math.sin(Raphael.rad(K))*v;K+=N;if(t.altType==="sector"){r=h+Math.cos(Raphael.rad(K))*v;L=e+Math.sin(Raphael.rad(K))*v;if(t.type==="angular"){o.path(["M",h,e,"L",H,M,"A",v,v,0,0,1,r,L,"z"]).attr({fill:(I%2==1)?t.altOddColor:t.altEvenColor,stroke:"none",opacity:0.5})}else{if(t.type==="radial"){o.path(["M",h,e,"L",H,M,"L",r,L,"z"]).attr({fill:(I%2==1)?t.altOddColor:t.altEvenColor,stroke:"none",opacity:0.5})}}}var J=o.path(["M",h,e,"L",H,M]).attr({stroke:t.sectorLineColor||t.lineColor,"stroke-width":t.sectorLineWidth||t.lineWidth,opacity:0.5});k.push(J)}};var B=function(){var N=t.clockwise?360/q:-360/q,L=z,H="center",r,M;for(var J=0;J<q;J++){L=l.toAbsAngle(L);r=h+Math.cos(Raphael.rad(L))*v;M=e+Math.sin(Raphael.rad(L))*v;var I=o.text(r,M,t.labels[J]).textAttr({"font-family":t.font.family,"font-size":t.font.size,"font-weight":t.font.weight,fill:t.font.color});var K=I.getBBox();if(L>=260&&L<=280){H="center";M-=K.height/2+5}else{if(L>280&&L<350){H="start";M-=K.height/2}else{if(L>=350||L<=10){H="start";r+=5}else{if(L>10&&L<80){H="start";M+=K.height/2}else{if(L>=80&&L<=100){H="center";M+=K.height/2+5}else{if(L>100&&L<170){H="end";M+=K.height/2}else{if(L>=170&&L<=190){H="end";r-=5}else{if(L>190&&L<260){H="end";M-=K.height/2}}}}}}}}I.textAttr({x:r,y:M,"text-anchor":H,});D.push(I);L+=N}};this.draw=function(){f();c();d();j();B()};this.setValue=function(I){var H=Math.min.apply(Math,I),r=Math.max.apply(Math,I);u=Math.min(H,u);E=Math.max(r,E);q=Math.max(I.length,q)};this.getCoord=function(I,J){var L=t.clockwise?360/q:-360/q,K=z+L*I,H=Math.cos(Raphael.rad(K))*v*(J-A.minTick)/(A.maxTick-A.minTick),r=Math.sin(Raphael.rad(K))*v*(J-A.minTick)/(A.maxTick-A.minTick);return{x:h+H,y:e+r,d:Math.sqrt(Math.pow(Math.abs(H),2)+Math.pow(Math.abs(r),2))}};this.getInfo=function(){return{cx:h,cy:e,r:v,labels:t.labels}};this.goOnTop=function(){if(t.gridOnTop){n.toFront();D.toFront();m.toFront();k.toFront()}}};crownix.ns("crownix.chart.type.Polar");crownix.chart.type.Polar=function(d,i,n,e){var f=crownix.chart.util.Path,k=crownix.chart.util.Util,l=crownix.chart.util.Format;var b=10;var g=[],c=d.set(),m,h=e.getInfo();var j=function(p,o){var q=new crownix.chart.Tooltip(d),r;c.hover(function(){r=(m||this).glow({width:10,color:o});var s=this.data("tooltip");q.show(s.x,s.y,s.text,{"font-family":p.tooltip.font.family,"font-size":p.tooltip.font.size,"font-weight":p.tooltip.font.weight,fill:p.tooltip.font.color},{opacity:0.8,stroke:o,fill:"#FFFFFF","stroke-width":1})},function(){r.remove();q.hide()})};var a=function(v,s){var w,B,A,q,z=0,o=[],u=v.data,D=v.polarType;for(var t=0,r=v.data.length;t<r;t++){var C=parseFloat(v.data[t]);if(!isNaN(C)&&C>0){z+=C}g.push(e.getCoord(t,C))}if(D!=="bubble"&&D!=="scatter"){for(t=0,r=g.length;t<r;t++){if(t===0){o.push("M")}else{if(D==="spline"&&t===1&&r>2){o.push("R")}else{o.push("L")}}o.push(g[t].x,g[t].y)}if(v.area||v.closeLine){o.push("Z")}m=d.path(o).attr({stroke:s,fill:v.area?k.bright(s,30):"none","stroke-width":v.lineWidth,"stroke-dasharray":k.toDash(v.lineType),opacity:0.7,transform:v.animation?["s",0,0,h.cx,h.cy]:""})}for(t=0,r=g.length;t<r;t++){w=g[t];B=w.x;A=w.y;if(D==="bubble"){q=g[t].d/b}else{q=v.symbolSize}var p=f.symbol(d,B,A,v.symbol,q,s).attr({fill:v.symbolColor||s,stroke:(D==="scatter"||D==="bubble")?k.bright(v.symbolColor||s,-30):"none",opacity:v.symbol==="none"?0:1,transform:v.animation?["s",0,0,h.cx,h.cy]:""});if(v.tooltip.enable){p.data("tooltip",{x:B,y:A-q,text:l.convert({name:v.name,label:h.labels[t],xLabel:h.labels[t],x:t,value:u[t],percentValue:u[t]/z*100},v.tooltip.format,v.tooltip.formatter)})}c.push(p)}c.animate({transform:""},v.animation?1000:0,"<>",function(){v.tooltip.enable&&j(v,s)});m&&m.animate({transform:""},v.animation?1000:0,"<>")};this.draw=function(p,o){p=$.extend(true,{},crownix.chart.options.Polar_DEFAULT,p);p.tooltip=$.extend(true,{},n.common.tooltip,p.tooltip);a(p,p.color||o[0]);e.goOnTop()}};crownix.ns("crownix.chart.type.AngularGauge");crownix.chart.type.AngularGauge=function(c,C,t){var G=crownix.chart.util.Path;var O=crownix.chart.axis.Tick;var b=crownix.chart.util.Format;var D=C.getArea(),i,K,h,g,L,a,F,s,l,z,m,Q,q,M=true;var j={MAJOR:0,MINOR:1,MICRO:2,};c.customAttributes.gaugePath=function(V,T,S,R,W,U){return{path:G.archSolid(V,T,S,R,W,U,M)}};var f=function(r){if(r.center){h=r.center[0];g=r.center[1];if(typeof h=="string"&&typeof g=="string"&&h.charAt(h.length-1)=="%"&&g.charAt(g.length-1)=="%"){h=c.width*parseInt(h)/100;g=c.height*parseInt(g)/100}}else{h=D.left+(D.right-D.left)/2;g=D.top+(D.bottom-D.top)/2}};var N=function(r){if(r.radius!=undefined){L=r.radius;if(typeof L=="string"&&L.charAt(L.length-1)=="%"){L=Math.min(c.width*parseInt(L)/100,c.height*parseInt(L)/100)}else{L=parseFloat(L)}}else{L=Math.min((D.bottom-D.top)/2*0.8,(D.right-D.left)/2*0.8)}if(r.gaugeWidth!=undefined){a=r.gaugeWidth;if(typeof a=="string"&&a.charAt(a.length-1)=="%"){a=Math.min(c.width*parseInt(a)/100,c.height*parseInt(a)/100)}if(a>=L){a=L}else{if(a<0){a=0}}}else{a=L*0.5}};var I=function(R){var r=c.path();if(R.gaugeStyle=="needle"){r=G.arcLine(c,h,g,L,s,l,M);r.attr({stroke:i,"stroke-width":R.axisWidth,opacity:0.8});n(R);o(R);u(R)}else{F=s;r.attr({gaugePath:[h,g,L,a,F,l],fill:i,"stroke-width":0,opacity:0.8})}E(R)};var n=function(U){var S,W,R,V,X;for(var T=0,r=U.ring.length;T<r;T++){X=U.ring[T].color||C.nextColor();R=U.ring[T].startRadius;V=U.ring[T].endRadius;if(typeof V=="string"&&V.charAt(V.length-1)=="%"){V=Math.min(c.width*parseInt(V)/100,c.height*parseInt(V)/100)}if(typeof R=="string"&&R.charAt(R.length-1)=="%"){R=Math.min(c.width*parseInt(R)/100,c.height*parseInt(R)/100)}S=G.circlePath(h,g,R,1);W=G.circlePath(h,g,V,0);c.path(S+W).attr({fill:X,"stroke-width":0,opacity:0.8})}};var P=function(R){var U,T,S,r;if(M){S=R.startValue==undefined?Q:R.startValue,r=R.endValue==undefined?q:R.endValue;if(r<Q||S>q){return}U=(z*(S-Q)/m)+s;T=(z*(r-Q)/m)+s;U=Math.max(U,s);U=Math.min(U,l);T=Math.max(T,s);T=Math.min(T,l)}else{S=R.startValue==undefined?q:R.startValue,r=R.endValue==undefined?Q:R.endValue;if(S>Q||r<q){return}U=s-(z*(S-q)/(-1*m));T=s-(z*(r-q)/(-1*m));U=Math.min(U,s);U=Math.max(U,l);T=Math.min(T,s);T=Math.max(T,l)}return{startAngle:U,endAngle:T}};var o=function(T){var U,R;a=L*0.1;if(m==0){return}for(var S=0,r=T.zone.length;S<r;S++){if(T.zone[S].startValue!=undefined||T.zone[S].endValue!=undefined){U=P(T.zone[S])}if(U){R=c.path();F=U.startAngle;R.attr({gaugePath:[h,g,L,a,F,U.endAngle],fill:T.zone[S].color||C.nextColor(),"stroke-width":0,opacity:0.8})}}};var H=function(T,U,R){for(var S=0,r=T.length;S<r;S++){G.angularTick(c,h,g,L,p(T[S]),U).attr({stroke:i,"stroke-width":R,opacity:0.8})}};var u=function(R){var S,T,r,U;if(m==0){return}T=R.majorInterval!=undefined?R.majorInterval:m/10,r=R.minorInterval!=undefined?R.minorInterval:T!=0?T/2:0,U=R.microInterval!=undefined?R.microInterval:r!=0?r/5:0;S={majorInterval:T,minorInterval:r,microInterval:U};K=O.calculateGaugeTick(Q,q,S);if(R.majorWidth!=0){H(K.majorTicks,j.MAJOR,R.majorWidth,R)}if(R.minorWidth!=0){H(K.minorTicks,j.MINOR,R.minorWidth,R)}if(R.microWidth!=0){H(K.microTicks,j.MICRO,R.microWidth,R)}};var B=function(r,R,W){var U=p(r),T=h-(L*W)*Math.cos(Raphael.rad(U)),S=g-(L*W)*Math.sin(Raphael.rad(U));if(R.format){var V={value:r};r=b.convert(V,R.format,R.formatter)}c.text(T,S,r).attr({"font-family":R.font.family,"font-size":R.font.size,fill:R.font.color,"font-weight":R.font.weight,transform:["r",R.rotation,T,S].join(","),opacity:0.8})};var E=function(S){if(S.tickLabel.enable){if(S.gaugeStyle=="needle"&&K){for(var R=0,r=K.majorTicks.length;R<r;R++){if(z==360&&R==r-1){continue}B(K.majorTicks[R],S.tickLabel,0.8)}}else{B(Q,S.tickLabel,1.1);if(z!=360){B(q,S.tickLabel,1.1)}}}};var e=function(r,U,W){var S,V,T,R;if(r.dataLabels.enable){T=r.data.length>1?h-L*1.1*Math.cos(Raphael.rad(W)):h;R=r.data.length>1?g-L*Math.sin(Raphael.rad(W)):g;V={value:U,name:r.name,percentValue:(U-Q)/Math.abs(m)*100};U=b.convert(V,r.dataLabels.format,r.dataLabels.formatter);S=c.text(T,R,U).attr({"text-anchor":"middle","font-weight":r.dataLabels.font.weight,"font-family":r.dataLabels.font.family,"font-size":r.dataLabels.font.size,fill:r.dataLabels.font.color,opacity:0});S.animate({opacity:0.8,y:r.gaugeStyle=="needle"?S.getBBox().y+S.getBBox().height:S.getBBox().y+S.getBBox().height/2},r.animation?2000:0,"back-out")}};var p=function(r){var R;if(M){R=(z*(r-Q)/m)+s;R=Math.min(R,(z+s));R=Math.max(R,s)}else{R=s-(z*(r-q)/(-1*m));R=Math.max(R,l);R=Math.min(R,s)}return R};var J=function(r){var R;if(r=="triangle"){R=G.trianglePointer(c,h,g,L)}else{if(r=="diamond"){R=G.diamondPointer(c,h,g,L)}else{if(r=="arrow"){R=G.arrowPointer(c,h,g,L)}else{R=G.linePointer(c,h,g,L)}}}return R};var k=function(U,r){var S,X,W,T,Y;if(m==0){return}for(var V=0,R=U.data.length;V<R;V++){T=U.data[V],W=p(T),Y=U.colors?U.colors[V]:r[V];if(W!=undefined){if(U.gaugeStyle=="needle"){if(U.pointer[V]!=null){X=U.pointer[V]}S=J(X.type);S.attr({fill:Y,"stroke-width":0,opacity:0.8,transform:["r",s,h,g,"s",(X.length||U.pointer.length),(X.width||U.pointer.width),h,g].join()});S.animate({transform:["r",W,h,g,"s",(X.length||U.pointer.length),(X.width||U.pointer.width),h,g].join()},U.animation?1000:0,"back-out")}else{S=c.path();F=s;S.attr({gaugePath:[h,g,L,a,F,s],fill:Y,"stroke-width":0,opacity:0.8});S.animate({gaugePath:[h,g,L,a,F,W]},U.animation?500:0,"back-out")}e(U,T,W);if(typeof U.onClick=="function"){A(U,S,T)}}}};var A=function(r,S,R){var T;S.hover(function(){T=this.glow({width:10,color:this.attr("fill")})},function(){if(T){T.remove()}});S.click((function(U){return function(){r.onClick(U)}})({value:R}))};var v=function(S){if(!Q&&!q){Q=0;q=10}if(z<0){z+=360;l+=360}if((S.reverse&&q>Q)||(!S.reverse&&Q>q)){var R,r;R=s;s=l;l=R;if(q>Q){r=Q;Q=q;q=r}M=false}else{if(Q>q){r=Q;Q=q;q=r}}m=q-Q};var d=function(V){var U=Math.min.apply(null,V),T=0,W=Math.abs(U),R=1;while(W>=10){W=parseInt(W/10)}if(W<2){R=5}else{if(W<5){R=2}}if(U<0){T=-1;for(var S=T,r=-(Math.log(Math.abs(U))/Math.log(10)+1);S>=r;S--){T*=10}T/=R}return T};var w=function(U){var V=Math.max.apply(null,U),R=0,W=V,S=1;while(W>=10){W=parseInt(W/10)}if(W<2){S=5}else{if(W<5){S=2}}if(V>0){R=1;for(var T=R,r=(Math.log(V)/Math.log(10)+1);T<=r;T++){R*=10}R/=S}return R};this.draw=function(R,r){R=$.extend(true,{},crownix.chart.options.GAUGE_DEFAULT,R);R.dataLabels=$.extend(true,{},t.common.dataLabels,R.dataLabels);s=R.startAngle+90,l=R.endAngle+90,i=R.barColor||"#D5D5D5",Q=R.min!=undefined?R.min:d(R.data),q=R.max!=undefined?R.max:w(R.data);z=l-s;v(R);f(R);N(R);I(R);k(R,r)}};crownix.ns("crownix.chart.type.LinearGauge");crownix.chart.type.LinearGauge=function(c,D,v){var H=crownix.chart.util.Path;var M=crownix.chart.axis.Tick;var b=crownix.chart.util.Format;var F=D.getArea(),i,h,d,a,O,t,p,k,L,o,m,E,j;var l={MAJOR:0,MINOR:1,MICRO:2,};var g=function(P){if(P.center){i=P.center[0];h=P.center[1];if(typeof i=="string"&&typeof h=="string"&&i.charAt(i.length-1)=="%"&&h.charAt(h.length-1)=="%"){i=c.width*parseInt(i)/100;h=c.height*parseInt(h)/100}}else{i=F.left+(F.right-F.left)/2;h=F.top+(F.bottom-F.top)/2}};var z=function(P){if(P.height!=undefined){d=P.height;if(typeof d=="string"&&d.charAt(d.length-1)=="%"){d=c.height*parseInt(d)/100}}else{d=(F.bottom-F.top)*(P.axisPosition=="left"||P.axisPosition=="right"?0.9:0.2)}if(P.width!=undefined){a=P.width;if(typeof a=="string"&&a.charAt(a.length-1)=="%"){a=c.width*parseInt(a)/100}}else{a=(F.right-F.left)*(P.axisPosition=="left"||P.axisPosition=="right"?0.1:0.9)}};var u=function(Q){if(!O&&!t){O=0;t=10}if(Q.axisPosition=="top"||Q.axisPosition=="bottom"){o=i-a/2;m=h;E=o+a;if((Q.reverse&&t>O)||(!Q.reverse&&O>t)){if(t>O){var P;P=O;O=t;t=P}o=i+a/2;E=o-a}else{if(O>t){var P;P=O;O=t;t=P}}}else{o=i;m=h+d/2;E=m-d;if((Q.reverse&&t>O)||(!Q.reverse&&O>t)){if(t>O){var P;P=O;O=t;t=P}m=h-d/2;E=m+d}else{if(O>t){var P;P=O;O=t;t=P}}}p=t-O};var J=function(R){var Q=c.path();if(R.gaugeStyle=="needle"){var P,U;if(R.axisPosition=="left"){j=o+a*0.6;P=j;U=m}else{if(R.axisPosition=="right"){j=o-a*0.6;P=j;U=m}else{if(R.axisPosition=="top"){j=m+d*0.6;P=o;U=j}else{if(R.axisPosition=="bottom"){j=m-d*0.6;P=o;U=j}}}}Q=H.linearLine(c,P,U,E,R.axisPosition);Q.attr({stroke:k,opacity:0.8});w(R);q(R)}else{var S,T;if(R.axisPosition=="left"||R.axisPosition=="right"){j=o-a*0.6;T=m;S=a}else{j=m-d*0.6;T=o;S=d}Q=H.rectSolid(c,j,S,T,E,R.axisPosition);Q.attr({fill:k,"stroke-width":0,opacity:0.8})}G(R)};var N=function(R,T){var Q,U,S,P;if(p>0){S=R.startValue==undefined?O:R.startValue,P=R.endValue==undefined?t:R.endValue;if(P>S){if(P<O||S>t){return}}else{if(P>O||S<t){return}}if(T.axisPosition=="left"||T.axisPosition=="right"){Q=m-(d*(S-O)/p);U=m-(d*(P-O)/p);Q=Math.min(Q,m);Q=Math.max(Q,E);U=Math.min(U,m);U=Math.max(U,E)}else{Q=o+(a*(S-O)/p);U=o+(a*(P-O)/p);Q=Math.max(Q,o);Q=Math.min(Q,E);U=Math.max(U,o);U=Math.min(U,E)}}else{S=R.startValue==undefined?t:R.startValue,P=R.endValue==undefined?O:R.endValue;if(P>S){if(S>O||P<t){return}}else{if(S<O||P>t){return}}if(T.axisPosition=="left"||T.axisPosition=="right"){Q=m+(d*(S-t)/(-1*p));U=m+(d*(P-t)/(-1*p));Q=Math.max(Q,m);Q=Math.min(Q,E);U=Math.min(U,E);U=Math.max(U,m)}else{Q=o-(a*(S-t)/(-1*p));U=o-(a*(P-t)/(-1*p));Q=Math.min(Q,o);Q=Math.max(Q,E);U=Math.max(U,E);U=Math.min(U,o)}}return{startHeight:Q,endHeight:U}};var r=function(Y,T,S,V,R){var U,W,Z,X,Q,P;if(R.axisPosition=="left"||R.axisPosition=="right"){Q=T+S/2,P=(V.startHeight+V.endHeight)/2}else{Q=(V.startHeight+V.endHeight)/2,P=T+S/2}if(Y.font){U=Y.font.color;W=Y.font.family;Z=Y.font.size;X=Y.font.weight}c.text(Q,P,Y.text).attr({fill:U||"#D5D5D5","font-family":W,"font-size":Z,"font-weight":X,"text-anchor":"middle",transform:["r",Y.rotation||0,Q,P].join(","),opacity:0.8})};var q=function(U){var Q,R,T,V;if(p==0){return}for(var S=0,P=U.zone.length;S<P;S++){if(U.zone[S].startValue!=undefined||U.zone[S].endValue!=undefined){R=N(U.zone[S],U)}if(R){if(U.axisPosition=="left"){T=o-a*0.8;V=a*0.2}else{if(U.axisPosition=="right"){T=o+a*0.8;V=-a*0.2}else{if(U.axisPosition=="top"){T=m-d*0.6;V=-d*0.2}else{if(U.axisPosition=="bottom"){T=m+d*0.8;V=-d*0.2}}}}Q=H.rectSolid(c,T,V,R.startHeight,R.endHeight,U.axisPosition);Q.attr({fill:U.zone[S].color||D.nextColor(),"stroke-width":0,opacity:0.8});if(U.zone[S].text){r(U.zone[S],T,V,R,U)}}}};var I=function(U,V,Q,T){var R,W;if(T.axisPosition=="left"||T.axisPosition=="right"){R=o;W=a}else{R=m;W=d}for(var S=0,P=U.length;S<P;S++){H.linearTick(c,R,W,s(U[S],T),V,T.axisPosition).attr({stroke:k,"stroke-width":Q,opacity:0.8})}};var w=function(Q){var R,S,P,T;if(p==0){return}S=Q.majorInterval!=undefined?Q.majorInterval:p/10,P=Q.minorInterval!=undefined?Q.minorInterval:S!=0?S/2:0,T=Q.microInterval!=undefined?Q.microInterval:P!=0?P/5:0;R={majorInterval:S,minorInterval:P,microInterval:T};L=M.calculateGaugeTick(O,t,R);if(Q.majorWidth!=0){I(L.majorTicks,l.MAJOR,Q.majorWidth,Q)}if(Q.minorWidth!=0){I(L.minorTicks,l.MINOR,Q.minorWidth,Q)}if(Q.microWidth!=0){I(L.microTicks,l.MICRO,Q.microWidth,Q)}};var C=function(R,Q,V){var T=o+a*V,S=s(R,Q),P;if(Q.axisPosition=="left"){T=o+a*V;S=s(R,Q);P="start"}else{if(Q.axisPosition=="right"){T=o-a*V*1.5;S=s(R,Q);P="end"}else{if(Q.axisPosition=="top"){T=s(R,Q);S=m+d*V;P="middle"}else{if(Q.axisPosition=="bottom"){T=s(R,Q);S=m-d*V*1.5;P="middle"}}}}if(Q.tickLabel.format){var U={value:R};R=b.convert(U,Q.tickLabel.format,Q.tickLabel.formatter)}c.text(T,S,R).attr({"font-family":Q.tickLabel.font.family,"font-size":Q.tickLabel.font.size,fill:Q.tickLabel.font.color,"font-weight":Q.tickLabel.font.weight,"text-anchor":P,transform:["r",Q.tickLabel.rotation,T,S].join(","),opacity:0.8})};var G=function(R){if(p==0){return}if(R.tickLabel.enable){if(R.gaugeStyle=="needle"&&L){for(var Q=0,P=L.majorTicks.length;Q<P;Q++){C(L.majorTicks[Q],R,0.1)}}else{C(O,R,0.5);C(t,R,0.5)}}};var f=function(Q,U,W){var S,V,T,R,P;if(Q.dataLabels.enable){if(Q.axisPosition=="left"){T=i+a*0.7;R=W;P="start"}else{if(Q.axisPosition=="right"){T=i-a*0.7;R=W;P="end"}else{if(Q.axisPosition=="top"){T=W;R=h+d*0.7;P="middle"}else{if(Q.axisPosition=="bottom"){T=W;R=h-d*0.8;P="middle"}}}}V={value:U,name:Q.name,percentValue:(U-O)/Math.abs(p)*100};U=b.convert(V,Q.dataLabels.format,Q.dataLabels.formatter);S=c.text(T,R,U).attr({"text-anchor":P,"font-weight":Q.dataLabels.font.weight,"font-family":Q.dataLabels.font.family,"font-size":Q.dataLabels.font.size,fill:Q.dataLabels.font.color,opacity:0});S.animate({opacity:0.8},Q.animation?5000:0,"back-out")}};var s=function(Q,P){var R;if(p>0){if(P.axisPosition=="left"||P.axisPosition=="right"){R=m-(d*(Q-O)/p);R=Math.max(R,E);R=Math.min(R,m)}else{R=o+(a*(Q-O)/p);R=Math.min(R,E);R=Math.max(R,o)}}else{if(P.axisPosition=="left"||P.axisPosition=="right"){R=m+(d*(Q-t)/(-1*p));R=Math.max(R,m);R=Math.min(R,E)}else{R=o-(a*(Q-t)/(-1*p));R=Math.min(R,o);R=Math.max(R,E)}}return R};var K=function(P,S){var Q,R,T;if(S.axisPosition=="left"){T=a}else{if(S.axisPosition=="right"){T=a}else{if(S.axisPosition=="top"){T=d}else{if(S.axisPosition=="bottom"){T=d}}}}if(P=="triangle"){Q=H.triangleLPointer(c,o,m,T,S.axisPosition)}else{if(P=="diamond"){Q=H.diamondLPointer(c,o,m,T,S.axisPosition)}else{if(P=="arrow"){Q=H.arrowLPointer(c,o,m,T,S.axisPosition)}else{Q=H.lineLPointer(c,o,m,T,S.axisPosition)}}}return Q};var n=function(U,P){var S,W,Y,V,T,X;if(p==0){return}for(var R=0,Q=U.data.length;R<Q;R++){T=U.data[R],V=s(T,U),X=U.colors?U.colors[R]:P[R];if(V){if(U.gaugeStyle=="needle"){if(U.pointer[R]!=null){W=U.pointer[R]}if(U.axisPosition=="left"||U.axisPosition=="right"){Y=H.linearLine(c,j,m,V,U.axisPosition);Y.attr({stroke:X,"stroke-width":2,opacity:0.8,transform:["s",1,0,o,m].join()});S=K(W.type,U);S.attr({fill:X,"stroke-width":0,opacity:0.8,transform:["t",0,0,"s",(W.length||U.pointer.length),(W.width||U.pointer.width),U.axisPosition=="left"?o+a*0.6:o-a*0.6,m].join()});Y.animate({transform:["s",1,1,o,m].join()},U.animation?1500:0,"back-out");S.animate({transform:["t",0,-(m-V),"s",(W.length||U.pointer.length),(W.width||U.pointer.width),U.axisPosition=="left"?o+a*0.6:o-a*0.6,m].join()},U.animation?1500:0,"back-out")}else{Y=H.linearLine(c,o,j,V,U.axisPosition);Y.attr({stroke:X,"stroke-width":2,opacity:0.8,transform:["s",0,1,o,m].join()});S=K(W.type,U);S.attr({fill:X,"stroke-width":0,opacity:0.8,transform:["t",0,0,"s",(W.width||U.pointer.width),(W.length||U.pointer.length),o,U.axisPosition=="bottom"?m-d*0.6:m+d*0.6].join()});Y.animate({transform:["s",1,1,o,m].join()},U.animation?1500:0,"back-out");S.animate({transform:["t",V-o,0,"s",(W.width||U.pointer.width),(W.length||U.pointer.length),o,U.axisPosition=="bottom"?m-d*0.6:m+d*0.6].join()},U.animation?1500:0,"back-out")}}else{if(U.axisPosition=="left"||U.axisPosition=="right"){S=H.rectSolid(c,j,a,m,V,U.axisPosition);S.attr({fill:X,"stroke-width":0,opacity:0.8,transform:["s",1,0,o,m].join()});S.animate({transform:""},U.animation?1500:0,"back-out")}else{S=H.rectSolid(c,j,d,o,V,U.axisPosition);S.attr({fill:X,"stroke-width":0,opacity:0.8,transform:["s",0,1,o,m].join()});S.animate({transform:""},U.animation?1500:0,"back-out")}}f(U,T,V);if(typeof U.onClick=="function"){B(U,S,T)}}}};var B=function(P,R,Q){var S;R.hover(function(){S=this.glow({width:10,color:this.attr("fill")})},function(){if(S){S.remove()}});R.click((function(T){return function(){P.onClick(T)}})({value:Q}))};var e=function(U){var T=Math.min.apply(null,U),S=0,V=Math.abs(T),Q=1;while(V>=10){V=parseInt(V/10)}if(V<2){Q=5}else{if(V<5){Q=2}}if(T<0){S=-1;for(var R=S,P=-(Math.log(Math.abs(T))/Math.log(10)+1);R>=P;R--){S*=10}S/=Q}return S};var A=function(T){var U=Math.max.apply(null,T),Q=0,V=U,R=1;while(V>=10){V=parseInt(V/10)}if(V<2){R=5}else{if(V<5){R=2}}if(U>0){Q=1;for(var S=Q,P=(Math.log(U)/Math.log(10)+1);S<=P;S++){Q*=10}Q/=R}return Q};this.draw=function(Q,P){Q=$.extend(true,{},crownix.chart.options.GAUGE_DEFAULT,Q);Q.dataLabels=$.extend(true,{},v.common.dataLabels,Q.dataLabels);k=Q.barColor,O=Q.min!=undefined?Q.min:e(Q.data),t=Q.max!=undefined?Q.max:A(Q.data);g(Q);z(Q);u(Q);J(Q);n(Q,P)}};crownix.ns("crownix.Chart");(function(){var c=crownix.chart.util.Path,f=crownix.chart.Series,a=crownix.chart.axis.AxisX,i=crownix.chart.axis.AxisY,h=crownix.chart.Layout,e=crownix.chart.Title,b=crownix.chart.Legend,d=crownix.chart.type.PolarGrid;crownix.Chart=function(j){this.element=(typeof j==="string")?document.getElementById(j):j;if(!this.element){throw Error("[ERROR] cannot found element: "+this.element)}this.axisXList=[];this.axisYList=[];this.seriesList=[];this.polarGrid=null;this.layout={};this.paper=Raphael(this.element)};var g=crownix.Chart.fn=crownix.Chart.prototype;g.build=function(k,s){var s=$.extend(true,{},crownix.chart.options.DEFAULT,s);if(s.chart.borderWidth>0){this.paper.canvas.style.border=s.chart.borderWidth+"px solid "+s.chart.borderColor}if(s.chart.borderRadius>0){this.paper.canvas.style.borderRadius=s.chart.borderRadius+"px"}if(s.chart.backgroundColor){this.paper.canvas.style.background=s.chart.backgroundColor}if(s.chart.backgroundImage){this.paper.image(s.chart.backgroundImage,0,0,this.paper.width,this.paper.height)}this.layout=new h(this.paper,s);this.title=new e(this.paper,this.layout);this.title.draw(s);if(s.legend.enable){this.legend=new b(this.paper,this.layout,s.legend)}if(Object.prototype.toString.call(s.axisX)!=="[object Array]"){s.axisX=[s.axisX]}if(Object.prototype.toString.call(s.axisY)!=="[object Array]"){s.axisY=[s.axisY]}for(var l=0,o=k.length;l<o;l++){var j=new f(k[l],s,this.layout,l);this.seriesList.push(j);this.layout.setSeries(j);if(j.isXYChart()){var q=j.getAxisXIndex();if(!this.axisXList[q]){this.axisXList[q]=new a(s,s.axisX[q])}this.axisXList[q].setSeries(j);j.setAxisX(this.axisXList[q]);q=j.getAxisX2Index();if(q){if(!this.axisXList[q]){this.axisXList[q]=new a(s,s.axisX[q])}this.axisXList[q].setSeries(j)}q=j.getAxisYIndex();if(!this.axisYList[q]){this.axisYList[q]=new i(s,s.axisY[q])}this.axisYList[q].setSeries(j);j.setAxisY(this.axisYList[q])}else{if(j.getType()==="polar"){if(!this.polarGrid){this.polarGrid=new d(this.paper,this.layout,s)}this.polarGrid.setValue(j.getData());j.setPolarGrid(this.polarGrid)}}}if(this.legend){for(var l=0;l<this.seriesList.length;l++){this.legend.add(this.seriesList[l])}if(this.legend.getLength()>0){this.legend.measure();this.legend.movePosition()}}for(var l=0,o=this.axisXList.length;l<o;l++){var p=this.axisXList[l];if(p){p.measure(this.paper,this.layout)}}var r;for(var l=0,o=this.axisYList.length;l<o;l++){var n=this.axisYList[l];if(n){n.calculateTick(r);if(l==0){r=n.getTicks().tickAmount}n.measure(this.paper,this.layout)}}var m=false;for(var l=0,o=this.axisYList.length;l<o;l++){var n=this.axisYList[l];if(n){n.draw(this.paper,this.layout,!m);m=true}}for(var l=0,o=this.axisXList.length;l<o;l++){var p=this.axisXList[l];if(p){p.draw(this.paper,this.layout,false)}}if(this.polarGrid){this.polarGrid.draw()}for(var l=0,o=this.seriesList.length;l<o;l++){var j=this.seriesList[l];j.draw(this.paper,this.layout)}};g.clear=function(){this.paper.clear();this.paper.remove()}})();Raphael.el.textAttr=function(){var a=undefined;return function(b){if(b.hasOwnProperty("font-size")){var c=b["font-size"];if(a===undefined){var d=$("<div>").css({width:"1in",height:"1in",display:"none"}).appendTo("body");a=d.width();d.remove();if(window.console){console.log("[Crownix Chart] detect "+a+" device DPI.")}}if(typeof c==="string"&&c.indexOf("pt",c.length-2)!==-1){b["font-size"]=parseInt(c,10)/72*a}}return this.attr(b)}}();
/*!
 * numeral.js
 * version : 1.5.3
 * author : Adam Draper
 * license : MIT
 * http://adamwdraper.github.com/Numeral-js/
 */
(function(){function N(b){this._value=b}function M(i,h,n,m){var l,k,j=Math.pow(10,h);return k=(n(i*j)/j).toFixed(h),m&&(l=new RegExp("0{1,"+m+"}$"),k=k.replace(l,"")),k}function L(f,e,h){var g;return g=e.indexOf("$")>-1?J(f,e,h):e.indexOf("%")>-1?I(f,e,h):e.indexOf(":")>-1?H(f,e):F(f._value,e,h)}function K(O,s){var r,q,p,o,n,m=s,l=["KB","MB","GB","TB","PB","EB","ZB","YB"],h=!1;if(s.indexOf(":")>-1){O._value=G(s)}else{if(s===v){O._value=0}else{for("."!==z[w].delimiters.decimal&&(s=s.replace(/\./g,"").replace(z[w].delimiters.decimal,".")),r=new RegExp("[^a-zA-Z]"+z[w].abbreviations.thousand+"(?:\\)|(\\"+z[w].currency.symbol+")?(?:\\))?)?$"),q=new RegExp("[^a-zA-Z]"+z[w].abbreviations.million+"(?:\\)|(\\"+z[w].currency.symbol+")?(?:\\))?)?$"),p=new RegExp("[^a-zA-Z]"+z[w].abbreviations.billion+"(?:\\)|(\\"+z[w].currency.symbol+")?(?:\\))?)?$"),o=new RegExp("[^a-zA-Z]"+z[w].abbreviations.trillion+"(?:\\)|(\\"+z[w].currency.symbol+")?(?:\\))?)?$"),n=0;n<=l.length&&!(h=s.indexOf(l[n])>-1?Math.pow(1024,n+1):!1);n++){}O._value=(h?h:1)*(m.match(r)?Math.pow(10,3):1)*(m.match(q)?Math.pow(10,6):1)*(m.match(p)?Math.pow(10,9):1)*(m.match(o)?Math.pow(10,12):1)*(s.indexOf("%")>-1?0.01:1)*((s.split("-").length+Math.min(s.split("(").length-1,s.split(")").length-1))%2?1:-1)*Number(s.replace(/[^0-9\.]+/g,"")),O._value=h?Math.ceil(O._value):O._value}}return O._value}function J(r,q,p){var o,n,m=q.indexOf("$"),l=q.indexOf("("),k=q.indexOf("-"),i="";return q.indexOf(" $")>-1?(i=" ",q=q.replace(" $","")):q.indexOf("$ ")>-1?(i=" ",q=q.replace("$ ","")):q=q.replace("$",""),n=F(r._value,q,p),1>=m?n.indexOf("(")>-1||n.indexOf("-")>-1?(n=n.split(""),o=1,(l>m||k>m)&&(o=0),n.splice(o,0,z[w].currency.symbol+i),n=n.join("")):n=z[w].currency.symbol+i+n:n.indexOf(")")>-1?(n=n.split(""),n.splice(-1,0,i+z[w].currency.symbol),n=n.join("")):n=n+i+z[w].currency.symbol,n}function I(h,g,l){var k,j="",i=100*h._value;return g.indexOf(" %")>-1?(j=" ",g=g.replace(" %","")):g=g.replace("%",""),k=F(i,g,l),k.indexOf(")")>-1?(k=k.split(""),k.splice(-1,0,j+"%"),k=k.join("")):k=k+j+"%",k}function H(f){var e=Math.floor(f._value/60/60),h=Math.floor((f._value-60*e*60)/60),g=Math.round(f._value-60*e*60-60*h);return e+":"+(10>h?"0"+h:h)+":"+(10>g?"0"+g:g)}function G(e){var d=e.split(":"),f=0;return 3===d.length?(f+=60*Number(d[0])*60,f+=60*Number(d[1]),f+=Number(d[2])):2===d.length&&(f+=60*Number(d[0]),f+=Number(d[1])),Number(f)}function F(ah,ag,af){var ae,ad,ac,ab,aa,Z,Y=!1,X=!1,W=!1,V="",S=!1,R=!1,Q=!1,P=!1,O=!1,q="",p="",o=Math.abs(ah),b=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],U="",T=!1;if(0===ah&&null!==v){return v}if(ag.indexOf("(")>-1?(Y=!0,ag=ag.slice(1,-1)):ag.indexOf("+")>-1&&(X=!0,ag=ag.replace(/\+/g,"")),ag.indexOf("a")>-1&&(S=ag.indexOf("aK")>=0,R=ag.indexOf("aM")>=0,Q=ag.indexOf("aB")>=0,P=ag.indexOf("aT")>=0,O=S||R||Q||P,ag.indexOf(" a")>-1?(V=" ",ag=ag.replace(" a","")):ag=ag.replace("a",""),o>=Math.pow(10,12)&&!O||P?(V+=z[w].abbreviations.trillion,ah/=Math.pow(10,12)):o<Math.pow(10,12)&&o>=Math.pow(10,9)&&!O||Q?(V+=z[w].abbreviations.billion,ah/=Math.pow(10,9)):o<Math.pow(10,9)&&o>=Math.pow(10,6)&&!O||R?(V+=z[w].abbreviations.million,ah/=Math.pow(10,6)):(o<Math.pow(10,6)&&o>=Math.pow(10,3)&&!O||S)&&(V+=z[w].abbreviations.thousand,ah/=Math.pow(10,3))),ag.indexOf("b")>-1){for(ag.indexOf(" b")>-1?(q=" ",ag=ag.replace(" b","")):ag=ag.replace("b",""),ac=0;ac<=b.length;ac++){if(ae=Math.pow(1024,ac),ad=Math.pow(1024,ac+1),ah>=ae&&ad>ah){q+=b[ac],ae>0&&(ah/=ae);break}}}return ag.indexOf("o")>-1&&(ag.indexOf(" o")>-1?(p=" ",ag=ag.replace(" o","")):ag=ag.replace("o",""),p+=z[w].ordinal(ah)),ag.indexOf("[.]")>-1&&(W=!0,ag=ag.replace("[.]",".")),ab=ah.toString().split(".")[0],aa=ag.split(".")[1],Z=ag.indexOf(","),aa?(aa.indexOf("[")>-1?(aa=aa.replace("]",""),aa=aa.split("["),U=M(ah,aa[0].length+aa[1].length,af,aa[1].length)):U=M(ah,aa.length,af),ab=U.split(".")[0],U=U.split(".")[1].length?z[w].delimiters.decimal+U.split(".")[1]:"",W&&0===Number(U.slice(1))&&(U="")):ab=M(ah,null,af),ab.indexOf("-")>-1&&(ab=ab.slice(1),T=!0),Z>-1&&(ab=ab.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+z[w].delimiters.thousands)),0===ag.indexOf(".")&&(ab=""),(Y&&T?"(":"")+(!Y&&T?"-":"")+(!T&&X?"+":"")+ab+U+(p?p:"")+(V?V:"")+(q?q:"")+(Y&&T?")":"")}function E(d,c){z[d]=c}function D(d){var c=d.toString().split(".");return c.length<2?1:Math.pow(10,c[1].length)}function C(){var b=Array.prototype.slice.call(arguments);return b.reduce(function(f,e){var h=D(f),g=D(e);return h>g?h:g},-1/0)}var B,A="1.5.3",z={},w="en",v=null,u="0,0",t="undefined"!=typeof module&&module.exports;B=function(a){return B.isNumeral(a)?a=a.value():0===a||"undefined"==typeof a?a=0:Number(a)||(a=B.fn.unformat(a)),new N(Number(a))},B.version=A,B.isNumeral=function(a){return a instanceof N},B.language=function(d,c){if(!d){return w}if(d&&!c){if(!z[d]){throw new Error("Unknown language : "+d)}w=d}return(c||!z[d])&&E(d,c),B},B.languageData=function(b){if(!b){return z[w]}if(!z[b]){throw new Error("Unknown language : "+b)}return z[b]},B.language("en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(d){var c=d%10;return 1===~~(d%100/10)?"th":1===c?"st":2===c?"nd":3===c?"rd":"th"},currency:{symbol:"$"}}),B.zeroFormat=function(b){v="string"==typeof b?b:null},B.defaultFormat=function(b){u="string"==typeof b?b:"0.0"},"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(h,g){if(null===this||"undefined"==typeof this){throw new TypeError("Array.prototype.reduce called on null or undefined")}if("function"!=typeof h){throw new TypeError(h+" is not a function")}var l,k,j=this.length>>>0,i=!1;for(1<arguments.length&&(k=g,i=!0),l=0;j>l;++l){this.hasOwnProperty(l)&&(i?k=h(k,this[l],l,this):(k=this[l],i=!0))}if(!i){throw new TypeError("Reduce of empty array with no initial value")}return k}),B.fn=N.prototype={clone:function(){return B(this)},format:function(d,c){return L(this,d?d:u,void 0!==c?c:Math.round)},unformat:function(b){return"[object Number]"===Object.prototype.toString.call(b)?b:K(this,b?b:u)},value:function(){return this._value},valueOf:function(){return this._value},set:function(b){return this._value=Number(b),this},add:function(e){function d(g,c){return g+f*c}var f=C.call(null,this._value,e);return this._value=[this._value,e].reduce(d,0)/f,this},subtract:function(e){function d(g,c){return g-f*c}var f=C.call(null,this._value,e);return this._value=[e].reduce(d,this._value*f)/f,this},multiply:function(d){function c(f,e){var g=C(f,e);return f*g*e*g/(g*g)}return this._value=[this._value,d].reduce(c,1),this},divide:function(d){function c(f,e){var g=C(f,e);return f*g/(e*g)}return this._value=[this._value,d].reduce(c),this},difference:function(b){return Math.abs(B(this._value).subtract(b).value())}},t&&(module.exports=B),"undefined"==typeof ender&&(this.numeral=B),"function"==typeof define&&define.amd&&define([],function(){return B})}).call(this);